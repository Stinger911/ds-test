(function(t){function e(e){for(var n,r,i=e[0],c=e[1],l=e[2],u=0,f=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},o=[];function r(t){return i.p+"js/"+({}[t]||t)+"."+{"4b47640d":"9138e107"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=r(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,a[1](l)}s[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"vendor"]),a()})({0:function(t,e,a){t.exports=a("2f39")},"0047":function(t,e,a){},"013f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{ref:"pageHolder",staticClass:"flex flex-center"},[a("canvas",{staticClass:"back_canvas",attrs:{id:"bg-canvas"}}),a("div",{staticStyle:{"text-align":"center"}},[a("h3",{staticClass:"h-title",staticStyle:{"font-size":"3.77rem"}},[t._v("DEEP")]),a("h3",{staticClass:"h-title",staticStyle:{"font-size":"3.1rem"}},[t._v("SPACE")]),a("h5",{staticClass:"h-title"},[t._v("adventures")]),a("div",{staticClass:"row",staticStyle:{"max-width":"500px",margin:"auto"}},[a("div",{staticClass:"col-xs-12 col-sm-6",staticStyle:{padding:".5em"}},[a("q-input",{attrs:{outlined:"",placeholder:"username",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("i",{staticClass:"far fa-user q-icon"})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("div",{staticClass:"col-xs-12 col-sm-6",staticStyle:{padding:".5em"}},[a("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"password",dense:""},on:{keypress:t.checkEnter},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"col-xs-6"},[a("q-btn",{attrs:{flat:"",color:"secondary",label:"Register"},on:{click:function(e){return t.doRegister()}}})],1),a("div",{staticClass:"col-xs-6"},[a("q-btn",{attrs:{color:"primary",label:"Login"},on:{click:function(e){return t.doLogin()}}})],1),a("div",{staticClass:"col-xs-12"},[a("b",[t._v("– OR –")])]),a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-btn",{attrs:{round:"",color:"blue",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-facebook-f q-icon"})]),a("q-btn",{attrs:{round:"",color:"red",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-google q-icon"})]),a("q-btn",{attrs:{round:"",color:"amber",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-app-store-ios q-icon"})]),a("q-btn",{attrs:{round:"",color:"deep-orange",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-google-play q-icon"})])],1)])])])])},s=[],o=(a("6c7b"),{name:"Login",data:function(){return{username:"",password:"",isPwd:!0,canvas:null,context:null,stars:[],midx:0,midy:0}},mounted:function(){window.addEventListener("resize",this.onResize),window.requestAnimationFrame(this.animate),this.onResize()},methods:{checkEnter:function(t){"Enter"===t.code&&this.doLogin()},doLogin:function(){var t=this;this.$root.$tools.game.login(this.username,this.password,(function(e){e&&e.error?t.$q.notify({message:"Can't log in",caption:e.error.DETAILS,icon:"warning",color:"negative"}):t.$root.$store.commit("ds/setAuth",!0)}))},doRegister:function(){this.$root.$store.commit("ds/setView","register")},onResize:function(){this.canvas=document.getElementById("bg-canvas"),this.canvas&&(this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.context=this.canvas.getContext("2d"),this.midx=this.canvas.width/2,this.midy=this.canvas.height/2,this.stars=[])},animate:function(){if(this.canvas){if(this.stars.length<300&&Math.random()>.1){var t={x:0,y:0,vx:6*Math.random()-3,vy:6*Math.random()-3};this.stars.push(t)}this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=0;e<this.stars.length;e++){this.stars[e].x=this.stars[e].x+this.stars[e].vx,this.stars[e].y=this.stars[e].y+this.stars[e].vy,(this.stars[e].x>this.midx||this.stars[e].x<-this.midx)&&(this.stars[e].x=0,this.stars[e].y=0);var a=Math.floor(Math.abs(this.stars[e].x)+Math.abs(this.stars[e].y));this.context.fillStyle="rgb("+a+","+a+","+a+")",this.context.beginPath(),this.context.arc(this.midx+this.stars[e].x,this.midy+this.stars[e].y,Math.abs(2*this.stars[e].y/this.midy+e/150),0,2*Math.PI),this.context.fill()}window.requestAnimationFrame(this.animate)}}}}),r=o,i=(a("da41"),a("2877")),c=Object(i["a"])(r,n,s,!1,null,null,null);e["default"]=c.exports},"0ec8":function(t,e,a){"use strict";var n=a("f92b"),s=a.n(n);s.a},1:function(t,e){},"14f2":function(t,e,a){},"17c9":function(t,e,a){"use strict";var n=a("be7e"),s=a.n(n);s.a},"1d6a":function(t,e,a){},"2f39":function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"someGetter",(function(){return tt}));var s={};a.r(s),a.d(s,"setAuth",(function(){return et})),a.d(s,"setView",(function(){return at}));var o={};a.r(o),a.d(o,"someAction",(function(){return nt}));var r=a("967e"),i=a.n(r),c=(a("a481"),a("96cf"),a("fa84")),l=a.n(c),u=(a("7d6e"),a("573e"),a("e54f"),a("985d"),a("0047"),a("2b0e")),d=a("1f91"),f=a("42d2"),h=a("b05d"),p=a("cb32"),m=a("58a8"),v=a("d847"),g=a("ead5"),x=a("079e"),y=a("9c40"),b=a("f09f"),w=a("4b7e"),k=a("a370"),M=a("24e8"),S=a("9404"),C=a("e359"),q=a("0016"),E=a("27f9"),A=a("66e5"),_=a("0170"),P=a("4074"),$=a("4d5a"),T=a("1c1c"),I=a("9989"),O=a("09e3"),B=a("7cbe"),R=a("3980"),N=a("2c91"),z=a("65c6"),L=a("6ac5"),Q=a("05c0"),j=a("714f"),F=a("7f67"),G=a("2a19");u["a"].use(h["a"],{config:{},lang:d["a"],iconSet:f["a"],components:{QAvatar:p["a"],QBadge:m["a"],QBar:v["a"],QBreadcrumbs:g["a"],QBreadcrumbsEl:x["a"],QBtn:y["a"],QCard:b["a"],QCardActions:w["a"],QCardSection:k["a"],QDialog:M["a"],QDrawer:S["a"],QHeader:C["a"],QIcon:q["a"],QInput:E["a"],QItem:A["a"],QItemLabel:_["a"],QItemSection:P["a"],QLayout:$["a"],QList:T["a"],QPage:I["a"],QPageContainer:O["a"],QPopupProxy:B["a"],QResizeObserver:R["a"],QSpace:N["a"],QToolbar:z["a"],QToolbarTitle:L["a"],QTooltip:Q["a"]},directives:{Ripple:j["a"],ClosePopup:F["a"]},plugins:{Notify:G["a"]}});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"q-app"}},[a("MyLayout")],1)},V=[],U=a("f241"),H={name:"App",components:{MyLayout:U["default"]},created:function(){this.$q.dark.set(!0),this.$root.$tools.game.store=this.$root.$store}},K=H,Z=a("2877"),J=Object(Z["a"])(K,D,V,!1,null,null,null),W=J.exports,X=a("2f62"),Y=function(){return{auth:!1,view:""}};function tt(){}function et(t,e){e||window.localStorage.setItem("dsdat",null),t.auth=e}function at(t,e){t.view=e}function nt(){}var st={namespaced:!0,getters:n,mutations:s,actions:o,state:Y};u["a"].use(X["a"]);var ot=function(){var t=new X["a"].Store({modules:{ds:st},strict:!1});return t},rt=a("8c4f"),it=[{path:"/",component:function(){return Promise.resolve().then(a.bind(null,"f241"))},children:[{path:"",name:"default",component:function(){return Promise.resolve().then(a.bind(null,"013f"))}}]}];it.push({path:"*",component:function(){return a.e("4b47640d").then(a.bind(null,"e51e"))}});var ct=it;u["a"].use(rt["a"]);var lt=function(){var t=new rt["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:ct,mode:"hash",base:""});return t},ut=function(){return dt.apply(this,arguments)};function dt(){return dt=l()(i.a.mark((function t(){var e,a,n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof ot){t.next=6;break}return t.next=3,ot({Vue:u["a"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=ot;case 7:if(e=t.t0,"function"!==typeof lt){t.next=14;break}return t.next=11,lt({Vue:u["a"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=lt;case 15:return a=t.t1,e.$router=a,n={el:"#q-app",router:a,store:e,render:function(t){return t(W)}},t.abrupt("return",{app:n,store:e,router:a});case 19:case"end":return t.stop()}}),t)}))),dt.apply(this,arguments)}var ft=a("9483");Object(ft["a"])("service-worker.js",{ready:function(){0},registered:function(){0},cached:function(){0},updatefound:function(){0},updated:function(){0},offline:function(){0},error:function(t){0}});var ht=a("a925"),pt={failed:"Action failed",success:"Action was successful"},mt={"en-us":pt};u["a"].use(ht["a"]);var vt=new ht["a"]({locale:"en-us",fallbackLocale:"en-us",messages:mt}),gt=function(t){var e=t.app;e.i18n=vt},xt=a("bc3a"),yt=a.n(xt);u["a"].prototype.$axios=yt.a;a("28a5");var bt="X388316E3fNi",wt="Nf6w3hFfo9xafl9Y79Aby6xBZFUn97LU";function kt(t){return window.CryptoJS.enc.Base64.stringify(window.CryptoJS.HmacSHA256(t,wt))}function Mt(){}var St={store:null,gs:window.gamesparks,onInit:function(){},onMessage:function(t){Mt("GM-Message",t,St),".AuthenticatedConnectResponse"===t["@class"]&&void 0!==t["userId"]&&null!=St.store&&St.store.commit("ds/setAuth",!0)},onError:function(t){this.gs.log("GM-Message",t,this),this.isAuthenticated&&(this.isAuthenticated=!1)},saveAuthToken:function(){var t=window.gamesparks.getAuthToken(),e=window.gamesparks.getSessionId();window.localStorage.setItem("dsdat",t+"::"+e)},login:function(t,e,a){St.gs.authenticationRequest(e,t,(function(t){t&&void 0===t.error&&St.saveAuthToken(),a&&a(t)}))},register:function(t,e,a,n){St.gs.registrationRequest(a,e,t,(function(t){t&&void 0!==t["userId"]&&void 0!==t["authToken"]&&!0===t["newPlayer"]&&(St.gs.setAuthToken(t["authToken"]),St.saveAuthToken()),n&&n(t)}))},eventRequest:function(t,e,a){e["eventKey"]=t,St.gs.sendWithData("LogEventRequest",e,a)}};function Ct(){var t=window.localStorage.getItem("dsdat");if(null!=t){var e=t.split("::");window.gamesparks.setAuthToken(e[0]),window.gamesparks.sessionId=e[1]}return St.gs=window.gamesparks,window.gamesparks.initPreview({key:bt,secret:wt,onNonce:kt,onInit:St.onInit,onMessage:St.onMessage,onError:St.onError,logger:Mt}),St}a("e956"),a("6c7b"),a("1c4c"),a("55dd"),a("ac6a"),a("cadf"),a("06db"),a("5df3"),a("4f7f"),a("7f7f");var qt=a("fc74"),Et=a.n(qt),At=a("59a1"),_t=a.n(At),Pt=a("c47a"),$t=a.n(Pt),Tt=a("6125"),It=a.n(Tt),Ot=function(){function t(e,a){var n=this;Et()(this,t),this.rng=It()(e),this.sectors=[];for(var s=20,o=5*Math.PI/180,r=0,i=0,c=0,l=0,u=1,d=0,f=0,h=Math.PI/2,p=Math.PI/3,m=0;m<a;m++){var v="sector."+32768*this.rng(),g=new Bt(v,250,1e3,1e3);if(g.name=t.makeName(this.rng),0===m)g.x=0,g.y=0;else{var x=this.rng()*s*.24+.75*s+f;g.x=Math.round(Math.sin(h)*x),g.y=Math.round(Math.cos(h)*x),h=h+.85*p+this.rng()*p*.3,d+=1,d>=6*u&&(d=0,u+=1,f+=s,h=Math.PI/2-o+2*this.rng()*o,p=Math.PI/(3*u))}g.g=new Set([]),this.sectors.push(g),g.x>i&&(i=g.x),g.x<r&&(r=g.x),g.y>l&&(l=g.y),g.y<c&&(c=g.y)}this.sectors.forEach((function(e,a){var o=n.sectors.map((function(a,n){return{d:t.distance(e.x,e.y,a.x,a.y),i:n}})).filter((function(t,e){return a!==e&&t.d<=1.27*s})).sort((function(t,e){return t.d>e.d?1:-1})),r=Math.round(4*n.rng())+2,i=0;while(e.g.size<r&&i<o.length)e.g.add(o[i].i),n.sectors[o[i].i].g.add(a),i+=1}));var y=1.1*(i-r),b=l-c,w=900/Math.max(y,b),k=(1e3-b*w)/2;this.sectors.forEach((function(t){t.x=Math.round((t.x-r)*w+50),t.y=Math.round((t.y-c)*w+k)})),this.width=i-r,this.height=l-c}return _t()(t,null,[{key:"makeName",value:function(t){t||(t=Math.random);for(var e="ABOUSEITILETSTONLONUTHNOALLEXEGEZACEBISOUSESARMAINDIREA?ERATENBERALAVETIEDORQUANTEISRION",a="",n=0,s=t()<.15?2:t()<.5?3:4,o=0;o<s;o++)n=2*Math.floor(43*t()),a+=e[n],"?"!==e[n+1]&&(a+=e[n+1]);return a.charAt(0)+a.slice(1).toLowerCase()}}]),_t()(t,[{key:"copyToScreen",value:function(t,e){var a=t.canvas.width,n=t.canvas.height,s=Math.min(a,n),o=Math.round((n-s)/2),r=Math.round((a-s)/2);console.log("Draw to screen",e.ctx,t,r,o,s,s),t.drawImage(e,r,o,s,s)}},{key:"getCanvas",value:function(t){var e=document.createElement("canvas"),a=Math.max(1e3,Math.max(t.width,t.height));return e.width=a,e.height=a,e.ctx=e.getContext("2d",{alpha:!1}),e.scale=a/1e3,e}},{key:"draw",value:function(e){var a=this,n=this.getCanvas(e.canvas);n.ctx.strokeStyle=t.jumpColor,n.ctx.beginPath(),this.sectors.forEach((function(t){var e=Array.from(t.g);e.forEach((function(e){var s=a.sectors[e];n.ctx.moveTo(Math.round(t.x*n.scale),Math.round(t.y*n.scale)),n.ctx.lineTo(Math.round(s.x*n.scale),Math.round(s.y*n.scale))}))})),n.ctx.stroke(),n.ctx.fillStyle=t.starColors.K[0],this.sectors.forEach((function(t){n.ctx.beginPath(),n.ctx.arc(Math.round(Math.round(t.x*n.scale)),Math.round(Math.round(t.y*n.scale)),Math.round(Math.round(10*n.scale)),0,2*Math.PI),n.ctx.fill()})),n.ctx.font="20px BankGothic",n.ctx.fillStyle=t.starColors.A[0],this.sectors.forEach((function(t){n.ctx.fillText(t.name,Math.round(t.x*n.scale)+15,Math.round(t.y*n.scale)+10)})),this.copyToScreen(e,n)}},{key:"drawRegion",value:function(e,a,n){var s=this.getCanvas(e.canvas),o=this.sectors[a].stars;s.ctx.beginPath(),s.ctx.strokeStyle=t.jumpColor,o.forEach((function(t,e){t.g.forEach((function(a){if(a>e){var n=o[a];s.ctx.moveTo(Math.round(t.x*s.scale),Math.round(t.y*s.scale)),s.ctx.lineTo(Math.round(n.x*s.scale),Math.round(n.y*s.scale))}}))})),s.ctx.stroke(),o.forEach((function(t){s.ctx.fillStyle=t.color(),s.ctx.beginPath(),s.ctx.arc(Math.round(t.x*s.scale),Math.round(t.y*s.scale),Math.round(3*s.scale),0,2*Math.PI),s.ctx.fill()})),n&&(s.ctx.font="20px BankGothic",s.ctx.fillStyle=t.starColors.A[0],s.ctx.textAlign="center",o.forEach((function(t){s.ctx.fillText(t.n,Math.round(t.x*s.scale),Math.round((t.y+4)*s.scale)+10)}))),this.copyToScreen(e,s)}},{key:"drawStar",value:function(){return!0}}],[{key:"distance",value:function(t,e,a,n){var s=t-a,o=e-n;return Math.sqrt(s*s+o*o)}}]),t}();$t()(Ot,"starColors",{M:["#ff6759","#822721"],K:["#ffa351","#ff6759"],G:["#fff6a8","#ffa351"],F:["#fafaff","#fff6a8"],A:["#9edeff","#fafaff"],B:["#00ffff","#9edeff"]}),$t()(Ot,"starMass",{M:[.3,.2],K:[.8,.3],G:[1.1,.8],F:[1.7,1.1],A:[3.1,1.7],B:[18,3.1]}),$t()(Ot,"starSize",{M:[.4,.2],K:[.9,.4],G:[1.1,.9],F:[1.3,1.1],A:[2.1,1.3],B:[7,2.1]}),$t()(Ot,"jumpColor","#57ffbc60"),$t()(Ot,"jumpColorA","#57ffbc");var Bt=function t(e,a,n,s){var o=this;Et()(this,t),this.rng=It()(e),this.rng||(this.rng=Math.random),this.rsize=a,this.width=n,this.height=s,this.stars=[];for(var r=0;r<this.rsize;r+=1){var i=Math.floor(this.rng()*this.width),c=Math.floor(this.rng()*this.height),l=Math.floor(268435455*this.rng());this.stars.push(new Rt(l,i,c))}for(var u=function(t){var e=o.stars[t],a=o.stars.map((function(t,a){return{d:Ot.distance(e.x,e.y,t.x,t.y),i:a}})).sort((function(t,e){return t.d>e.d?1:-1})).slice(1),n=4*o.rng()+2-e.g.length,s=10*o.rng();s=s<5?0:s<8?2:4;for(var r=s,i=0;n>0;r++,i++)(r===a.length&&0===s||r===s-1)&&(n=0),r%=a.length,n>0&&o.stars[a[r].i].g.length<5&&(o.stars[t].addGate(a[r].i),o.stars[a[r].i].addGate(t),n--,i++)},d=0;d<this.rsize;d++)u(d);this.stars.forEach((function(t){var e=t.g.flatMap((function(e){return t.g.map((function(t){return[e,t]}))})).filter((function(t){return t[0]!==t[1]}));e.forEach((function(e){var a=o.stars[e[0]],n=o.stars[e[1]];if(a.g.length>2&&n.g.length>2&&a.g.indexOf(e[1])>-1){var s=Ot.distance(t.x,t.y,a.x,a.y),r=Ot.distance(t.x,t.y,n.x,n.y),i=Ot.distance(a.x,a.y,n.x,n.y);i<s&&i<r&&(o.stars[e[0]].delGate(e[1]),o.stars[e[1]].delGate(e[0]))}}))}))},Rt=function(){function t(e,a,n){Et()(this,t),this.i=e,this.x=a,this.y=n,this.rng=It()(e),this.n=Ot.makeName(this.rng),this.g=[];var s=this.rng();if(s<=.7){var o=this.rng();this.c=o<.384?"dM":o<.445?"dK":o<.661?"dG":o<.801?"dF":o<.927?"dA":"dB"}else if(s<=.9){var r=this.rng();this.c=r<.039?"gM":r<.468?"gK":r<.719?"gG":"gF"}else{var i=this.rng();this.c=i<.057?"wK":i<.132?"wG":i<.223?"wF":i<.682?"wA":"wB"}this.s=this.rng()}return _t()(t,[{key:"color",value:function(){return Ot.starColors[this.c[1]][0]}},{key:"mass",value:function(){var t=Ot.starMass[this.c[1]],e="g"===this.c[0]?2:1;return e*(this.s*(t[0]-t[1])+t[1])}},{key:"radius",value:function(){var t=Ot.starSize[this.c[1]],e="g"===this.c[0]?10:"w"===this.c[0]?.01:1;return e*(this.s*(t[0]-t[1])+t[1])}},{key:"addGate",value:function(t){var e=new Set(this.g);e.add(t),this.g=Array.from(e).sort((function(t,e){return t>e?1:-1}))}},{key:"delGate",value:function(t){var e=new Set(this.g);e.delete(t),this.g=Array.from(e).sort((function(t,e){return t>e?1:-1}))}}]),t}();function Nt(){return zt.apply(this,arguments)}function zt(){return zt=l()(i.a.mark((function t(){var e,a,n,s,o,r,c,l,d;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ut();case 2:e=t.sent,a=e.app,n=e.store,s=e.router,o=!0,r=function(t){o=!1,window.location.href=t},c=window.location.href.replace(window.location.origin,""),l=[gt,void 0,void 0],d=0;case 11:if(!(!0===o&&d<l.length)){t.next=29;break}if("function"===typeof l[d]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,l[d]({app:a,router:s,store:n,Vue:u["a"],ssrContext:null,redirect:r,urlPath:c});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:d++,t.next=11;break;case 29:if(!1!==o){t.next=31;break}return t.abrupt("return");case 31:new u["a"](a);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),zt.apply(this,arguments)}u["a"].prototype.$tools={makeName:function(){for(var t="ABOUSEITILETSTONLONUTHNOALLEXEGEZACEBISOUSESARMAINDIREA?ERATENBERALAVETIEDORQUANTEISRION",e="",a=0,n=Math.random()<.15?2:Math.random()<.5?3:4,s=0;s<n;s++)a=2*Math.floor(43*Math.random()),e+=t[a],"?"!==t[a+1]&&(e+=t[a+1]);return e.charAt(0)+e.slice(1).toLowerCase()},game:Ct(u["a"].prototype),dumpProps:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";return Object.getOwnPropertyNames(t).forEach((function(n){a+=n+": "+t[n],a+=e?"<br/>\n":",\n"})),a},starMap:new Ot("NewEden",32)},/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&a.e("vendor").then(a.t.bind(null,"a0db",7)),Nt()},"43ae":function(t,e,a){"use strict";var n=a("86b3"),s=a.n(n);s.a},"44cc":function(t,e,a){},"7d7b":function(t,e,a){},"86b3":function(t,e,a){},9224:function(t){t.exports=JSON.parse('{"a":"0.0.1"}')},aba0:function(t,e,a){"use strict";var n=a("fd24"),s=a.n(n);s.a},bd75:function(t,e,a){"use strict";var n=a("7d7b"),s=a.n(n);s.a},be7e:function(t,e,a){},c1ec:function(t,e,a){"use strict";var n=a("44cc"),s=a.n(n);s.a},d3d6:function(t,e,a){t.exports=a.p+"img/quasar-logo-full.c3e88651.svg"},d75a:function(t,e,a){"use strict";var n=a("1d6a"),s=a.n(n);s.a},da41:function(t,e,a){"use strict";var n=a("14f2"),s=a.n(n);s.a},f241:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticStyle:{overflow:"hidden"}},[a("q-page-container",[t.auth||""!==t.view?t._e():a("Login"),t.auth||"register"!==t.view?t._e():a("Register"),t.auth&&""===t.view?a("PageIndex"):t._e()],1)],1)},s=[],o=a("013f"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex flex-center back"},[n("q-dialog",{model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("q-card",{staticClass:"reg-dlg"},[n("q-toolbar",{staticClass:"reg-dlg-title"},[n("q-avatar",[n("img",{attrs:{src:a("d3d6"),alt:"Quasar Logo"}})]),n("q-toolbar-title",[n("span",{staticClass:"text-weight-bold"},[t._v("Register new player")])]),n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){return t.cancelRegs()}}})],1),n("q-card-section",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[n("q-input",{attrs:{outlined:"",placeholder:"username",dense:"",rules:[function(){return!0}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("i",{staticClass:"far fa-user q-icon"})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[n("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"password","error-message":"Passwords are not match",error:!t.samePass,dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[n("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"repeat password","error-message":"Passwords are not match",error:!t.samePass,dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1),n("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[n("q-input",{attrs:{outlined:"",placeholder:"display name",dense:"","bottom-slots":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("i",{staticClass:"fas fa-user-astronaut"})]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{icon:"fas fa-cogs",round:"",dense:""},on:{click:function(e){return t.makeName()}}})]},proxy:!0}]),model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}})],1),n("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[n("q-input",{attrs:{outlined:"",placeholder:"e-mail",dense:"",rules:[function(){return!0}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("i",{staticClass:"far fa-envelope q-icon"})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em","text-align":"center"}},[n("q-avatar",{attrs:{size:"150px"}},[n("img",{attrs:{src:t.avatarImg,alt:"Avatar"},on:{click:function(e){return t.makeAvatar()}}})])],1),n("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em","text-align":"center"}},[n("q-btn",{attrs:{color:"primary",label:"Register"},on:{click:function(e){return t.doRegister()}}})],1)])])],1)],1)],1)},i=[],c=(a("a481"),{name:"Register",data:function(){return{open:!0,username:"",password:"",password2:"",displayName:"",dnValid:!0,email:"",isPwd:!0,avatarImg:""}},mounted:function(){this.makeName()},computed:{samePass:function(){return this.password===this.password2}},methods:{cancelRegs:function(){this.$root.$store.commit("ds/setView","")},makeName:function(){this.displayName=this.$root.$tools.makeName()+" "+this.$root.$tools.makeName(),this.makeAvatar()},makeAvatar:function(){var t=(new Date).getTime(),e=this.displayName.replace(" ",".");this.avatarImg="https://i.pravatar.cc/150?u="+encodeURI(e+"."+t+"@ds.net")},doRegister:function(){var t=this;this.$root.$tools.game.register(this.username,this.password,this.displayName,(function(e){if(e&&e.newPlayer)t.$root.$tools.game.eventRequest("STORE_USETS",{settings:{email:t.email,avatar:t.avatarImg}},(function(){t.$root.$store.commit("ds/setAuth",!0),t.$root.$store.commit("ds/setView","")}));else{var a=e&&e.error?t.$root.$tools.dumpProps(e.error):"Unknown Error";t.$q.notify({message:"Can't register",caption:a,icon:"warning",color:"negative"})}}))}}}),l=c,u=(a("d75a"),a("2877")),d=Object(u["a"])(l,r,i,!1,null,"6bc41b57",null),f=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("HorizTools",{attrs:{top:""}},[a("q-btn",{attrs:{round:""}},[a("q-avatar",[a("img",{attrs:{alt:"avatar",src:t.avatar}})]),a("q-popup-proxy",{attrs:{"auto-close":"",breakpoint:300}},[a("div",{staticStyle:{"font-family":"BankGothic"}},[t._v(t._s(t.userName))]),a("div",{staticClass:"fit row inline wrap",staticStyle:{"max-width":"300px"}},[a("FixBtn",{attrs:{icon:"settings",label:"Settings",double:""}}),a("FixBtn",{attrs:{icon:"fa fas fa-chart-line",label:"Market"}}),a("FixBtn",{attrs:{icon:"fa fas fa-mobile-alt",label:"Comm"}}),a("FixBtn",{attrs:{icon:"fa fas fa-dna",label:"Skills"}}),a("FixBtn",{attrs:{icon:"fa fas fa-map",label:"StarMap"},on:{click:function(e){t.starMap=!0}}}),a("FixBtn",{attrs:{icon:"fa fas fa-box-open",label:"Inventory"}}),a("FixBtn",{attrs:{icon:"fa fas fa-info-circle",label:"About"}}),a("FixBtn",{attrs:{icon:"fa fas fa-door-open",label:"LogOut"},on:{click:function(e){return t.logoutRequest()}}})],1)])],1),a("q-btn",{staticClass:"q-ml-lg",attrs:{round:"",flat:"",icon:"fas fa-user-astronaut",color:t.autopilot?"accent":"default"},on:{click:function(e){t.autopilot=!t.autopilot}}},[a("q-tooltip",[t._v("Autopilot")])],1),a("div",{staticClass:"col-grow flex flex-center service"},[a("q-space"),a("q-badge",{staticClass:"q-mr-md",attrs:{outline:"",color:"grey-6"}},[t._v("\n        "+t._s(t.project_version)+"\n        "),a("q-tooltip",[t._v(t._s(t.buildTag()))])],1)],1)],1),"station"===t.view?a("StationView",{on:{undock:function(e){t.view="space"}}}):t._e(),"space"===t.view?a("SpaceView",{on:{dock:function(e){t.view="station"}}}):t._e(),a("StarMap",{attrs:{dialog:t.starMap},on:{close:function(e){t.starMap=!1}}})],1)},p=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.posClass,style:t.posStyle},[t._t("default")],2)},v=[],g={name:"HorizTools",props:{top:Boolean,bottom:Boolean},computed:{posStyle:function(){if(this.top&&this.bottom)throw"Both 'top' and 'bottom' are given";return this.bottom?"bottom: 0;":"top: 0;"},posClass:function(){if(this.top&&this.bottom)throw"Both 'top' and 'bottom' are given";return this.bottom?"row glossy-bottom horiz-toolbox":"row glossy-top horiz-toolbox"}}},x=g,y=(a("43ae"),Object(u["a"])(x,m,v,!1,null,"7090919e",null)),b=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-btn",{class:t.makeClass,attrs:{icon:t.icon,label:t.label,"text-color":"secondary",stack:"",glossy:"",dense:""},on:{click:t.doClick}})},k=[],M={name:"FixBtn",props:{icon:String,label:String,double:{type:Boolean,default:!1}},computed:{makeClass:function(){return this.double?"col-8 fix-btn-d":"col-4 fix-btn"}},methods:{doClick:function(){this.$emit("click")}}},S=M,C=(a("0ec8"),Object(u["a"])(S,w,k,!1,null,"f9514594",null)),q=C.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{maximized:t.maximized,"full-height":"","full-width":"",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-icon",{staticClass:"q-px-md",attrs:{name:"menu"}}),a("span",{staticStyle:{"font-family":"SpaceAge"}},[t._v("Star Map")]),a("q-space"),a("q-btn",{attrs:{flat:"",icon:"fas fa-map-marker-alt"},on:{click:t.resetPos}},[a("q-tooltip",[t._v("Current Position")])],1),a("q-btn",{attrs:{flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}},[a("q-tooltip",[t._v("Close")])],1)],1),a("q-bar",[a("div",{staticClass:"col col-grow"},[a("q-breadcrumbs",[t.mode>=0?a("q-breadcrumbs-el",{staticClass:"bcr",attrs:{label:"SPACE"},on:{click:function(e){t.mode=0}}}):t._e(),t.mode>=1?a("q-breadcrumbs-el",{staticClass:"bcr",attrs:{label:t.clusterName},on:{click:function(e){t.mode=1}}}):t._e(),t.mode>=2?a("q-breadcrumbs-el",{staticClass:"bcr",attrs:{label:"STAR 0"}}):t._e(),a("q-space")],1)],1),1===t.mode?a("div",{staticClass:"col col-shrink"},[a("q-btn",{attrs:{flat:"",icon:"fas fa-search-minus"},on:{click:t.zoomOut}},[a("q-tooltip",[t._v("Zoom Out")])],1),a("q-btn",{attrs:{flat:"",icon:"fas fa-search-plus"},on:{click:t.zoomIn}},[a("q-tooltip",[t._v("Zoom In")])],1)],1):t._e()]),a("div",{staticClass:"flex flex-center mapper"},[a("div",{staticClass:"map-container",attrs:{id:"star-map-container"}},[a("canvas",{key:t.mode,staticClass:"map-canvas",attrs:{id:"star-map-canvas"}}),a("q-resize-observer",{on:{resize:t.drawMap}})],1)])],1)],1)},A=[],_=(a("7f7f"),{name:"StarMap",data:function(){return{maximized:!0,mode:1,cluster:0,zoom:100}},props:{dialog:Boolean},watch:{mode:function(){var t=this;this.zoom=100,setTimeout((function(){t.drawMap()}),1)},cluster:function(){this.zoom=100,this.drawMap()},dialog:function(t){t&&(this.zoom=100,setTimeout(this.drawMap,1))}},mounted:function(){this.maximized=window.innerWidth<=760},computed:{clusterName:function(){return this.$root.$tools.starMap.sectors[this.cluster].name}},methods:{resetPos:function(){this.mode=1,this.cluster=0},zoomIn:function(){this.zoom=Math.round(1.1*this.zoom),this.drawMap()},zoomOut:function(){var t=Math.round(.9090909*this.zoom);t<100&&(t=100),this.zoom=t,this.drawMap()},drawMap:function(){var t=document.getElementById("star-map-container");if(t){var e=document.getElementById("star-map-canvas"),a=Math.min(t.parentElement.clientWidth,t.parentElement.clientHeight)-16;if(t.style.width="".concat(a,"px"),t.style.height="".concat(a,"px"),e){e.width=Math.round(a*this.zoom/100),e.height=Math.round(a*this.zoom/100);var n=e.getContext("2d",{alpha:!1});0===this.mode?this.$root.$tools.starMap.draw(n,this.zoom):1===this.mode?this.$root.$tools.starMap.drawRegion(n,this.cluster,this.zoom>=300):this.$root.$tools.starMap.drawStar(n,this.cluster,0)}}}}}),P=_,$=(a("bd75"),Object(u["a"])(P,E,A,!1,null,"ec9ca134",null)),T=$.exports,I=a("9224"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("VertTools",{attrs:{left:"",noback:""}},[n("q-btn",{attrs:{round:"",flat:"",icon:"fas fa-upload"},on:{click:function(e){return t.$emit("undock")}}},[n("q-tooltip",[t._v("Undock from station")])],1)],1),n("q-page",{staticClass:"flex flex-center"},[n("img",{attrs:{alt:"Quasar logo",src:a("d3d6")}})])],1)},B=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.posClass,style:t.posStyle},[t._t("default")],2)},N=[],z={name:"VertTools",props:{left:Boolean,right:Boolean,noback:Boolean},computed:{posStyle:function(){if(this.left&&this.right)throw"Both 'left' and 'right' are given";return this.right?"right: 0;":"left: 0;"},posClass:function(){if(this.left&&this.right)throw"Both 'left' and 'right' are given";var t="vertical-toolbox";return this.noback||(t+=this.right?" glossy-right":" glossy-left"),t}}},L=z,Q=(a("17c9"),Object(u["a"])(L,R,N,!1,null,"0837733f",null)),j=Q.exports,F={name:"StationView",components:{VertTools:j}},G=F,D=Object(u["a"])(G,O,B,!1,null,"1ef3eb4b",null),V=D.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-page",{staticClass:"flex flex-center space-view"},[n("img",{attrs:{alt:"Quasar logo",src:a("d3d6")}})]),n("HorizTools",{attrs:{bottom:""}},[n("q-btn",{attrs:{round:"",flat:"",icon:"fas fa-download"},on:{click:function(e){return t.$emit("dock")}}},[n("q-tooltip",[t._v("Docking")])],1)],1)],1)},H=[],K={name:"SpaceView",components:{HorizTools:b}},Z=K,J=(a("c1ec"),Object(u["a"])(Z,U,H,!1,null,"3c735d04",null)),W=J.exports,X={name:"PageIndex",components:{SpaceView:W,StationView:V,StarMap:T,FixBtn:q,HorizTools:b},data:function(){return{userName:"",avatar:"",starMap:!1,autopilot:!1,project_version:I["a"],view:"station"}},mounted:function(){var t=this;this.$root.$tools.game.gs.accountDetailsRequest((function(e){t.userName=e.displayName,e&&e.scriptData&&e.scriptData.settings&&e.scriptData.settings.avatar?t.avatar=e.scriptData.settings.avatar:t.avatar="https://i.pravatar.cc/150?u=".concat(t.userName,"@ds.net")}))},methods:{buildTag:function(){var t="devBuild",e=new Date("2020-02-18T08:13:57.444Z"),a="226d27f4";return t=e.toUTCString()+" build "+a,t},logoutRequest:function(){this.$root.$store.commit("ds/setAuth",!1)}}},Y=X,tt=(a("aba0"),Object(u["a"])(Y,h,p,!1,null,"4cbdf65d",null)),et=tt.exports,at={name:"MyLayout",components:{PageIndex:et,Register:f,Login:o["default"]},data:function(){return{leftDrawerOpen:!1}},computed:{view:function(){return this.$root.$store.state.ds.view},auth:function(){return this.$root.$store.state.ds.auth}}},nt=at,st=Object(u["a"])(nt,n,s,!1,null,null,null);e["default"]=st.exports},f92b:function(t,e,a){},fd24:function(t,e,a){}});