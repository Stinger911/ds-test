(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],u=0,f=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={1:0},r=[];function i(t){return o.p+"js/"+({}[t]||t)+"."+{2:"53b08de9"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=s);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,a[1](l)}n[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;r.push([0,0]),a()})({0:function(t,e,a){t.exports=a("2f39")},"0047":function(t,e,a){},"013f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{ref:"pageHolder",staticClass:"flex flex-center"},[a("canvas",{staticClass:"back_canvas",attrs:{id:"bg-canvas"}}),a("div",{staticStyle:{"text-align":"center"}},[a("h3",{staticClass:"h-title",staticStyle:{"font-size":"3.77rem"}},[t._v("DEEP")]),a("h3",{staticClass:"h-title",staticStyle:{"font-size":"3.1rem"}},[t._v("SPACE")]),a("h5",{staticClass:"h-title"},[t._v("adventures")]),a("div",{staticClass:"v-block"},[t._v("v."+t._s(t.project_version))]),a("div",{staticClass:"row",staticStyle:{"max-width":"500px",margin:"auto"}},[a("div",{staticClass:"col-xs-12 col-sm-6",staticStyle:{padding:".5em"}},[a("q-input",{attrs:{outlined:"",placeholder:"username",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("i",{staticClass:"far fa-user q-icon"})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("div",{staticClass:"col-xs-12 col-sm-6",staticStyle:{padding:".5em"}},[a("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"password",dense:""},on:{keypress:t.checkEnter},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"col-xs-6"},[a("q-btn",{attrs:{flat:"",color:"secondary",label:"Register"},on:{click:function(e){return t.doRegister()}}})],1),a("div",{staticClass:"col-xs-6"},[a("q-btn",{attrs:{color:"primary",label:"Login"},on:{click:function(e){return t.doLogin()}}})],1),a("div",{staticClass:"col-xs-12"},[a("b",[t._v("– OR –")])]),a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-btn",{attrs:{round:"",color:"blue",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-facebook-f q-icon"})]),a("q-btn",{attrs:{round:"",color:"red",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-google q-icon"})]),a("q-btn",{attrs:{round:"",color:"amber",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-app-store-ios q-icon"})]),a("q-btn",{attrs:{round:"",color:"deep-orange",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-google-play q-icon"})])],1)])])])])},n=[],r=(a("6c7b"),a("9224")),i={name:"Login",data:function(){return{username:"",password:"",isPwd:!0,canvas:null,context:null,stars:[],midx:0,midy:0,project_version:r["a"]}},mounted:function(){window.addEventListener("resize",this.onResize),window.requestAnimationFrame(this.animate),this.onResize()},methods:{checkEnter:function(t){"Enter"===t.code&&this.doLogin()},doLogin:function(){var t=this;this.$root.$tools.game.login(this.username,this.password,(function(e){e&&e.error?t.$q.notify({message:"Can't log in",caption:e.error.DETAILS,icon:"warning",color:"negative"}):t.$root.$store.commit("ds/setAuth",!0)}))},doRegister:function(){this.$root.$store.commit("ds/setView","register")},onResize:function(){this.canvas=document.getElementById("bg-canvas"),this.canvas&&(this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.context=this.canvas.getContext("2d"),this.midx=this.canvas.width/2,this.midy=this.canvas.height/2,this.stars=[])},animate:function(){if(this.canvas){if(this.stars.length<300&&Math.random()>.1){var t={x:0,y:0,vx:6*Math.random()-3,vy:6*Math.random()-3};this.stars.push(t)}this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=0;e<this.stars.length;e++){this.stars[e].x=this.stars[e].x+this.stars[e].vx,this.stars[e].y=this.stars[e].y+this.stars[e].vy,(this.stars[e].x>this.midx||this.stars[e].x<-this.midx)&&(this.stars[e].x=0,this.stars[e].y=0);var a=Math.floor(Math.abs(this.stars[e].x)+Math.abs(this.stars[e].y));this.context.fillStyle="rgb("+a+","+a+","+a+")",this.context.beginPath(),this.context.arc(this.midx+this.stars[e].x,this.midy+this.stars[e].y,Math.abs(2*this.stars[e].y/this.midy+e/150),0,2*Math.PI),this.context.fill()}window.requestAnimationFrame(this.animate)}}}},o=i,c=(a("0aa3"),a("2877")),l=Object(c["a"])(o,s,n,!1,null,"ae16990e",null);e["default"]=l.exports},"014a":function(t,e,a){},"0275":function(t,e,a){"use strict";var s=a("fde4"),n=a.n(s);n.a},"0aa3":function(t,e,a){"use strict";var s=a("ce9f"),n=a.n(s);n.a},"0c65":function(t,e,a){"use strict";var s=a("104e"),n=a.n(s);n.a},"0ec8":function(t,e,a){"use strict";var s=a("f92b"),n=a.n(s);n.a},1:function(t,e){},"104e":function(t,e,a){},"129a":function(t,e,a){"use strict";a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d");var s=a("c47a"),n=a.n(s),r=a("2b0e"),i=(a("28a5"),"X388316E3fNi"),o="Nf6w3hFfo9xafl9Y79Aby6xBZFUn97LU";function c(t){return window.CryptoJS.enc.Base64.stringify(window.CryptoJS.HmacSHA256(t,o))}function l(){}var u={store:null,gs:window.gamesparks,onInit:function(){},onMessage:function(t){l("GM-Message",t,u),u.store.commit("ds/setOnline",!0),".AuthenticatedConnectResponse"===t["@class"]&&void 0!==t["userId"]&&u.store.commit("ds/setAuth",!0)},onError:function(t){console.log("GM-Offline-Message",t,this),this.isAuthenticated&&(this.isAuthenticated=!1,u.store.commit("ds/setOnline",!1))},saveAuthToken:function(){var t=window.gamesparks.getAuthToken(),e=window.gamesparks.getSessionId();window.localStorage.setItem("dsdat",t+"::"+e)},login:function(t,e,a){u.gs.authenticationRequest(e,t,(function(t){t&&void 0===t.error&&u.saveAuthToken(),a&&a(t)}))},register:function(t,e,a,s){u.gs.registrationRequest(a,e,t,(function(t){t&&void 0!==t["userId"]&&void 0!==t["authToken"]&&!0===t["newPlayer"]&&(u.gs.setAuthToken(t["authToken"]),u.saveAuthToken()),s&&s(t)}))},eventRequest:function(t,e,a){e["eventKey"]=t,u.gs.sendWithData("LogEventRequest",e,a)}};function d(){var t=window.localStorage.getItem("dsdat");if(null!=t){var e=t.split("::");window.gamesparks.setAuthToken(e[0]),window.gamesparks.sessionId=e[1]}return u.gs=window.gamesparks,window.gamesparks.initPreview({key:i,secret:o,onNonce:c,onInit:u.onInit,onMessage:u.onMessage,onError:u.onError,logger:l}),u}var f=a("3650");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){n()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t){if(isNaN(t))return"NaN";var e=[["M",1e3],["CM",900],["D",500],["CD",400],["C",100],["XC",90],["L",50],["XL",40],["X",10],["IX",9],["V",5],["IV",4],["I",1]],a="";return e.forEach((function(e){while(t>=e[1])a+=e[0],t-=e[1]})),a}a.d(e,"b",(function(){return v})),r["a"].prototype.$tools={makeName:function(){for(var t="ABOUSEITILETSTONLONUTHNOALLEXEGEZACEBISOUSESARMAINDIREA?ERATENBERALAVETIEDORQUANTEISRION",e="",a=0,s=Math.random()<.15?2:Math.random()<.5?3:4,n=0;n<s;n++)a=2*Math.floor(43*Math.random()),e+=t[a],"?"!==t[a+1]&&(e+=t[a+1]);return e.charAt(0)+e.slice(1).toLowerCase()},game:d(r["a"].prototype),dumpProps:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";return Object.getOwnPropertyNames(t).forEach((function(s){a+=s+": "+t[s],a+=e?"<br/>\n":",\n"})),a},starMap:new f["a"]("NewEden",32),settings:{def:{graphics:"2ds"},put:function(t){var e=JSON.stringify(p({},this.def,{},t));window.localStorage.setItem("dsLocalSettings",e)},get:function(){var t=window.localStorage.getItem("dsLocalSettings"),e=JSON.parse(t);return p({},this.def,{},e)}}}},"17c9":function(t,e,a){"use strict";var s=a("be7e"),n=a.n(s);n.a},"20c1":function(t,e,a){t.exports=a.p+"img/sphere.83194afc.png"},"2f39":function(t,e,a){"use strict";a.r(e);var s={};a.r(s),a.d(s,"someGetter",(function(){return rt}));var n={};a.r(n),a.d(n,"setAuth",(function(){return it})),a.d(n,"setView",(function(){return ot})),a.d(n,"setOnline",(function(){return ct}));var r={};a.r(r),a.d(r,"someAction",(function(){return lt}));var i=a("967e"),o=a.n(i),c=(a("a481"),a("96cf"),a("fa84")),l=a.n(c),u=(a("7d6e"),a("573e"),a("e54f"),a("985d"),a("0047"),a("2b0e")),d=a("1f91"),f=a("42d2"),h=a("b05d"),p=a("cb32"),v=a("58a8"),m=a("d847"),g=a("ead5"),b=a("079e"),y=a("9c40"),w=a("f09f"),x=a("4b7e"),k=a("a370"),M=a("24e8"),C=a("9404"),q=a("3b73"),S=a("e359"),_=a("0016"),E=a("27f9"),O=a("66e5"),j=a("0170"),A=a("4074"),$=a("4d5a"),I=a("1c1c"),P=a("9989"),T=a("09e3"),D=a("7cbe"),B=a("3786"),N=a("3980"),z=a("2c91"),R=a("65c6"),L=a("6ac5"),G=a("05c0"),F=a("714f"),Q=a("7f67"),V=a("436b"),J=a("2a19");u["a"].use(h["a"],{config:{},lang:d["a"],iconSet:f["a"],components:{QAvatar:p["a"],QBadge:v["a"],QBar:m["a"],QBreadcrumbs:g["a"],QBreadcrumbsEl:b["a"],QBtn:y["a"],QCard:w["a"],QCardActions:x["a"],QCardSection:k["a"],QDialog:M["a"],QDrawer:C["a"],QExpansionItem:q["a"],QHeader:S["a"],QIcon:_["a"],QInput:E["a"],QItem:O["a"],QItemLabel:j["a"],QItemSection:A["a"],QLayout:$["a"],QList:I["a"],QPage:P["a"],QPageContainer:T["a"],QPopupProxy:D["a"],QRadio:B["a"],QResizeObserver:N["a"],QSpace:z["a"],QToolbar:R["a"],QToolbarTitle:L["a"],QTooltip:G["a"]},directives:{Ripple:F["a"],ClosePopup:Q["a"]},plugins:{Dialog:V["a"],Notify:J["a"]}});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"q-app"}},[a("MyLayout")],1)},H=[],Z=a("f241");function K(){var t=window.deepSpaceEventBus;return t||(window.deepSpaceEventBus=document.createElement("eventbus"),t=window.deepSpaceEventBus,t.dispatch=function(e,a){t.dispatchEvent(new CustomEvent(e,a||{}))}),t}var W={REGISTERED:"scRegistered",OFFLINE:"scOffline",UPDATE_FOUND:"scUpdateFound",UPDATED:"scUpdated"},X={name:"App",components:{MyLayout:Z["default"]},created:function(){this.$q.dark.set(!0),this.$root.$tools.game.store=this.$root.$store},mounted:function(){var t=K();t.addEventListener(W.REGISTERED,this.serviceRegistered),t.addEventListener(W.OFFLINE,this.serviceOffline)},beforeDestroy:function(){var t=K();t.removeEventListener(W.REGISTERED,this.serviceRegistered),t.removeEventListener(W.OFFLINE,this.serviceOffline)},methods:{serviceRegistered:function(){console.log("Got SW registered")},serviceOffline:function(){this.$q.notify({message:"No internet connection",caption:"App switched to offline mode",icon:"warning",color:"negative"}),this.$root.$store.commit("ds/setOnline",!1)}}},Y=X,tt=a("2877"),et=Object(tt["a"])(Y,U,H,!1,null,null,null),at=et.exports,st=a("2f62"),nt=function(){return{online:!1,auth:!1,view:""}};function rt(){}function it(t,e){e||window.localStorage.setItem("dsdat",null),t.auth=e}function ot(t,e){t.view=e}function ct(t,e){t.online=e}function lt(){}var ut={namespaced:!0,getters:s,mutations:n,actions:r,state:nt};u["a"].use(st["a"]);var dt=function(){var t=new st["a"].Store({modules:{ds:ut},strict:!1});return t},ft=a("8c4f"),ht=[{path:"/",component:function(){return Promise.resolve().then(a.bind(null,"f241"))},children:[{path:"",name:"default",component:function(){return Promise.resolve().then(a.bind(null,"013f"))}}]}];ht.push({path:"*",component:function(){return a.e(2).then(a.bind(null,"e51e"))}});var pt=ht;u["a"].use(ft["a"]);var vt=function(){var t=new ft["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:pt,mode:"hash",base:""});return t},mt=function(){return gt.apply(this,arguments)};function gt(){return gt=l()(o.a.mark((function t(){var e,a,s;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof dt){t.next=6;break}return t.next=3,dt({Vue:u["a"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=dt;case 7:if(e=t.t0,"function"!==typeof vt){t.next=14;break}return t.next=11,vt({Vue:u["a"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=vt;case 15:return a=t.t1,e.$router=a,s={el:"#q-app",router:a,store:e,render:function(t){return t(at)}},t.abrupt("return",{app:s,store:e,router:a});case 19:case"end":return t.stop()}}),t)}))),gt.apply(this,arguments)}var bt=a("9483");Object(bt["a"])("service-worker.js",{ready:function(){0},registered:function(){K().dispatch(W.REGISTERED)},cached:function(){0},updatefound:function(){K().dispatch(W.UPDATE_FOUND)},updated:function(){K().dispatch(W.UPDATED)},offline:function(){console.log("No internet connection found. App is running in offline mode."),K().dispatch(W.OFFLINE)},error:function(t){0}});var yt=a("a925"),wt={failed:"Action failed",success:"Action was successful"},xt={"en-us":wt};u["a"].use(yt["a"]);var kt=new yt["a"]({locale:"en-us",fallbackLocale:"en-us",messages:xt}),Mt=function(t){var e=t.app;e.i18n=kt},Ct=a("bc3a"),qt=a.n(Ct);u["a"].prototype.$axios=qt.a;var St=a("129a");function _t(){return Et.apply(this,arguments)}function Et(){return Et=l()(o.a.mark((function t(){var e,a,s,n,r,i,c,l,d;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,mt();case 2:e=t.sent,a=e.app,s=e.store,n=e.router,r=!0,i=function(t){r=!1,window.location.href=t},c=window.location.href.replace(window.location.origin,""),l=[Mt,void 0,St["default"]],d=0;case 11:if(!(!0===r&&d<l.length)){t.next=29;break}if("function"===typeof l[d]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,l[d]({app:a,router:n,store:s,Vue:u["a"],ssrContext:null,redirect:i,urlPath:c});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:d++,t.next=11;break;case 29:if(!1!==r){t.next=31;break}return t.abrupt("return");case 31:new u["a"](a);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),Et.apply(this,arguments)}/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&a.e(0).then(a.t.bind(null,"a0db",7)),_t()},3650:function(t,e,a){"use strict";a.d(e,"a",(function(){return f}));a("e956"),a("6b54"),a("a481"),a("7872"),a("6c7b"),a("1c4c"),a("ac6a"),a("cadf"),a("06db"),a("5df3"),a("4f7f"),a("7f7f");var s=a("fc74"),n=a.n(s),r=a("59a1"),i=a.n(r),o=a("c47a"),c=a.n(o),l=a("6125"),u=a.n(l),d=a("4378"),f=(a("03ba"),function(){function t(e,a){var s=this;n()(this,t);var r=(new Date).getTime();this.rng=u()(e),this.sectors=[],this.radiusStep=20;for(var i=5*Math.PI/180,o=0,c=0,l=0,d=0,f=1,p=0,v=0,m=Math.PI/2,g=Math.PI/3,b=0;b<a;b++){var y="sector."+32768*this.rng(),w=new h(y,250,1e3,1e3);if(w.name=t.makeName(this.rng),0===b)w.x=0,w.y=0;else{var x=this.rng()*this.radiusStep*.24+.75*this.radiusStep+v;w.x=Math.round(Math.sin(m)*x),w.y=Math.round(Math.cos(m)*x),m=m+.85*g+this.rng()*g*.3,p+=1,p>=6*f&&(p=0,f+=1,v+=this.radiusStep,m=Math.PI/2-i+2*this.rng()*i,g=Math.PI/(3*f))}w.g={i:new Set},this.sectors.push(w),w.x>c&&(c=w.x),w.x<o&&(o=w.x),w.y>d&&(d=w.y),w.y<l&&(l=w.y)}this.sectors.forEach((function(e,a){var n=s.sectors.map((function(a,s){return{d:t.distance(e.x,e.y,a.x,a.y),i:s}})).filter((function(t,e){return a!==e&&t.d<=1.27*s.radiusStep})).sort((function(t,e){return t.d>e.d?1:-1})),r=Math.round(4*s.rng())+2,i=0,o=function(){var r=s.sectors[n[i].i],o=2e3*(r.x-e.x)+500,c=2e3*(r.y-e.y)+500,l=e.stars.map((function(e,a){return{d:t.distance(e.x,e.y,o,c),i:a,x:o,y:c}})).sort((function(t,e){return t.d>e.d?1:-1}))[0];o=2e3*(e.x-r.x)+500,c=2e3*(e.y-r.y)+500;var u=r.stars.map((function(e,a){return{d:t.distance(e.x,e.y,o,c),i:a,x:o,y:c}})).sort((function(t,e){return t.d>e.d?1:-1}))[0];e.g.i.add(n[i].i),e.g[n[i].i]={l:l.i,r:u.i,x:l.x,y:l.y},r.g.i.add(a),r.g[a]={l:u.i,r:l.i,x:u.x,y:u.y},i+=1};while(e.g.i.size<r&&i<n.length)o()}));var k=1.1*(c-o),M=d-l,C=900/Math.max(k,M),q=(1e3-M*C)/2;this.sectors.forEach((function(t){t.x=Math.round((t.x-o)*C+50),t.y=Math.round((t.y-l)*C+q)})),this.radiusStep=this.radiusStep*C,this.width=c-o,this.height=d-l,f=1,c=0,v=.75,this.sectors.forEach((function(t,e){e>=f&&(c+=1,f=e+6*c,v*=.166+.5*s.rng());var a=new Set;t.g.i.forEach((function(e){t.stars[t.g[e].l].sl=1,a.add(t.g[e].l)})),t.stars.forEach((function(t,e){void 0===t.sl&&s.rng()<v&&(t.sl=1,a.add(e))})),d=Math.pow(v+s.rng()*(1-v),c/5);var n=function(){var e=new Set;a.forEach((function(a){t.stars[a].g.forEach((function(a){void 0===t.stars[a].sl&&e.add(a)}))})),e.forEach((function(e){t.stars[e].sl=.66*d+s.rng()*d*.34,d<.33&&s.rng()<.6&&(t.stars[e].sl=0),a.add(e)})),d=.4*d+d*s.rng()*.25};while(a.size<t.stars.length)n()})),console.log("Map generation time is "+((new Date).getTime()-r)+" ms"),"undefined"!==typeof window&&(window.starmap=this)}return i()(t,null,[{key:"makeName",value:function(t){t||(t=Math.random);for(var e="ABOUSEITILETSTONLONUTHNOALLEXEGEZACEBISOUSESARMAINDIREA?ERATENBERALAVETIEDORQUANTEISRION",a="",s=0,n=t()<.15?2:t()<.5?3:4,r=0;r<n;r++)s=2*Math.floor(43*t()),a+=e[s],"?"!==e[s+1]&&(a+=e[s+1]);return a.charAt(0)+a.slice(1).toLowerCase()}},{key:"secColor",value:function(t){return t>.66?this.securityLevelColor[0]:t>.33?this.securityLevelColor[1]:this.securityLevelColor[2]}},{key:"secLevel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=Math.pow(10,Math.round(e));return t>1&&(t=1),t<0&&(t=0),Math.round(t*a)/a}}]),i()(t,[{key:"makeCanvas",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,s=d["SVG"]().addTo("#"+t);return s.id(t+"-svg-draw"),s.viewbox(0,0,e,a),s}},{key:"draw",value:function(e,a){var s=this,n=this.makeCanvas(e),r=n.group().addClass("star-map-jumps");this.sectors.forEach((function(e){var a=Array.from(e.g.i);a.forEach((function(a){var n=s.sectors[a];r.line(e.x,e.y,n.x,n.y).stroke({color:t.jumpColor,width:1,linecap:"round",linejoin:"round"})}))}));var i=n.group().addClass("star-map-clusters-dots");this.sectors.forEach((function(e,s){var n=0;e.stars.forEach((function(t){n+=t.sl})),n/=e.stars.length;var r=i.circle();r.radius(10).center(e.x,e.y).fill(t.secColor(n)),a&&r.click((function(){a(s)}))}));var o=n.group().addClass("star-map-clusters-names");this.sectors.forEach((function(e){o.text(e.name).move(e.x+15,e.y+10).font({fill:t.starColors.A[0],family:"BankGothic",size:20})}))}},{key:"drawRegion",value:function(e,a,s){var n=this,r=this.makeCanvas(e),i=this.sectors[a].stars,o={},c=function(e){o[e]=r.rect(0,0,0,0).filterWith((function(a){var s=new d["Color"](""+t.starColors[e][0],"hex");a.colorMatrix("matrix",[s.r/255,0,0,0,0,0,s.g/255,0,0,0,0,0,s.b/255,0,0,0,0,0,1,0])}))};for(var l in t.starColors)c(l);var u=r.group().addClass("star-map-jumps");i.forEach((function(e,s){e.g.forEach((function(a){if(a>s){var n=i[a];u.line(e.x,e.y,n.x,n.y).stroke({color:t.jumpColor,width:1,linecap:"round",linejoin:"round"})}}));var r=n.sectors[a].hasGate(s);r.forEach((function(a){u.line(e.x,e.y,a.x,a.y).stroke({color:t.jumpColorX,width:1,linecap:"round"})}))}));var f=r.group().addClass("star-map-stars-dots");i.forEach((function(t,e){var a=f.circle();a.radius(3).center(t.x,t.y).fill(t.color()),s&&a.click((function(){s(e)}))}));var h=r.group().addClass("star-map-stars-spheres").opacity(0),p=document.getElementById("star-sphere").src;i.forEach((function(t,e){var a=h.image(p).size(8,8);a.move(t.x-4,t.y-4).filterWith(o[t.c[1]].filterer()),s&&a.click((function(){s(e)}))}));var v=r.group().addClass("star-map-stars-names").opacity(0);i.forEach((function(e){v.text(""+e.n).center(e.x,e.y+10).font({fill:t.starColors.A[0],family:"BankGothic",size:12})}))}},{key:"drawStar",value:function(e,a,s,n){var r=this,i=this.makeCanvas(e),o=this.sectors[a].stars[s],c=Math.round(100*Math.log10(10*o.radius()));c<40&&(console.warn("Error!",c,o),c=40);var l=document.getElementById("star-sphere").src;i.image(l).size(c,c).move(500-c/2,500-c/2).filterWith((function(t){var e=new d["Color"](""+o.color(),"hex");t.colorMatrix("matrix",[e.r/255,0,0,0,0,0,e.g/255,0,0,0,0,0,e.b/255,0,0,0,0,0,1,0])})),o.getSystem();var u=o.p[o.p.length-1].orbit/o.p[0].orbit,f=c/2+50,h=(450-f)/Math.log10(u),p=document.getElementById("planet-base").src.replace("009.png",""),v=i.group(),m=i.group(),g=i.group();return o.p.forEach((function(e,a){var s=Math.log10(e.orbit/o.p[0].orbit)*h+f;if(v.circle(2*s).center(500,500).fill("transparent").stroke(t.jumpColor),v.text(Math.floor(1e3*e.orbit)/1e3+" AU").center(500,510+s).font({fill:t.jumpColor,family:"BankGothic",size:12}),"AB"!==e.type){var r=Math.floor(46*e.seed),i=p+(r<10?"0"+r:r)+"9.png",c=500+s*Math.sin(e.angle),l=500+s*Math.cos(e.angle),u=50;m.image(i).size(u,u).center(c,l),e.objects.forEach((function(e){if(e.type>=100){e.planet=a+1;var s=c+u/2*e.rad*Math.sin(e.angle),r=l+u/2*e.rad*Math.cos(e.angle),i=g.rect(8,8);i.center(s,r).stroke({color:t.jumpColorA,width:3}).fill("transparent"),n&&i.click((function(t){n(o,"station",e,t)}))}}))}else{var d=p+"ab01.png",b=2.2*s;m.image(d).size(b,b).center(500,500)}})),o.g.forEach((function(e){var s=r.sectors[a].stars[e],i=s.x-o.x,c=s.y-o.y,l=Math.sqrt(i*i+c*c)/485;i=i/l+500,c=c/l+500;var u=g.circle();u.radius(4.5).center(i,c).stroke({color:t.jumpColorA,width:3}).fill("transparent"),n&&u.click((function(t){n(o,"gate",e,t)}))})),this.sectors[a].hasGate(s).forEach((function(e){var a=e.x-500,s=e.y-500,r=Math.sqrt(a*a+s*s)/485;a=a/r+500,s=s/r+500;var i=g.circle();i.radius(4.5).center(a,s).stroke({color:t.jumpColorX,width:3}).fill("black"),n&&i.click((function(t){n(o,"i-gate",e,t)}))})),!0}},{key:"starImage",value:function(t,e,a){var s=this.makeCanvas(t,200,200),n=this.sectors[e].stars[a],r=Math.round(100*Math.log10(10*n.radius()));r<40&&(r=40);var i=document.getElementById("star-sphere").src;s.image(i).size(r,r).move(100-r/2,100-r/2).filterWith((function(t){var e=new d["Color"](""+n.color(),"hex");t.colorMatrix("matrix",[e.r/255,0,0,0,0,0,e.g/255,0,0,0,0,0,e.b/255,0,0,0,0,0,1,0])}))}},{key:"checkVisibility",value:function(t,e){0===t||1===t&&(document.getElementsByClassName("star-map-stars-names").forEach((function(t){t.style.opacity=e>1500?1:0})),document.getElementsByClassName("star-map-stars-spheres").forEach((function(t){t.style.opacity=e>1700?1:0})),document.getElementsByClassName("star-map-stars-dots").forEach((function(t){t.style.opacity=e>1700?0:1})))}},{key:"drawOverlay",value:function(t,e){var a=d["SVG"](t),s="Overlay-"+this.rng().toString(),n=a.group().addClass(s).css("pointer-events","none");return e&&n.add(e),s}},{key:"overlaySector",value:function(t,e){if(e>=0&&e<this.sectors.length){var a=d["SVG"]().viewbox(0,0,1e3,1e3),s=this.sectors[e],n=a.circle();return n.radius(15).center(s.x,s.y).stroke({color:"white",width:2}).fill("transparent"),this.drawOverlay("#"+t+"-svg-draw",a)}return""}},{key:"overlayStar",value:function(t,e,a){if(e>=0&&e<this.sectors.length&&a>=0&&a<this.sectors[e].stars.length){var s=d["SVG"]().viewbox(0,0,1e3,1e3),n=this.sectors[e].stars[a],r=s.circle();return r.radius(6).center(n.x,n.y).stroke({color:"white",width:2}).fill("transparent"),this.drawOverlay("#"+t+"-svg-draw",s)}return""}}],[{key:"distance",value:function(t,e,a,s){var n=t-a,r=e-s;return Math.sqrt(n*n+r*r)}}]),t}());c()(f,"starColors",{M:["#ff6759","#822721"],K:["#ffa351","#ff6759"],G:["#fff6a8","#ffa351"],F:["#fafaff","#fff6a8"],A:["#9edeff","#fafaff"],B:["#00ffff","#9edeff"]}),c()(f,"starMass",{M:[.3,.2],K:[.8,.3],G:[1.1,.8],F:[1.7,1.1],A:[3.1,1.7],B:[18,3.1]}),c()(f,"starSize",{M:[.4,.2],K:[.9,.4],G:[1.1,.9],F:[1.3,1.1],A:[2.1,1.3],B:[7,2.1]}),c()(f,"jumpColor","#57ffbc60"),c()(f,"jumpColorA","#57ffbc"),c()(f,"jumpColorX","#ffd659"),c()(f,"markerColor","#d9ffff"),c()(f,"securityLevelColor",["#92ff44","#ffe045","#ff5e45"]),c()(f,"securityMid",.66),c()(f,"securityLow",.33);var h=function(){function t(e,a,s,r){var i=this;n()(this,t),this.rng=u()(e),this.rng||(this.rng=Math.random),this.rsize=a,this.width=.95*s,this.height=.95*r,this.stars=[];for(var o=.025*s,c=.025*r,l=function(t){var e=void 0,a=void 0,s=void 0,n=0;while(n<15)if(e=Math.floor(i.rng()*i.width+o),a=Math.floor(i.rng()*i.height+c),s=Math.floor(268435455*i.rng()),i.stars.length>0){var r=i.stars.map((function(t,s){return{d:f.distance(e,a,t.x,t.y),i:s}})).sort((function(t,e){return t.d>e.d?1:-1}));n=r[0].d}else n=1e3;i.stars.push(new p(s,e,a))},d=0;d<this.rsize;d+=1)l(d);for(var h=function(t){var e=i.stars[t],a=i.stars.map((function(t,a){return{d:f.distance(e.x,e.y,t.x,t.y),i:a}})).sort((function(t,e){return t.d>e.d?1:-1})).slice(1),s=4*i.rng()+2-e.g.length,n=10*i.rng();n=n<5?0:n<8?2:4;for(var r=n,o=0;s>0;r++,o++)(r===a.length&&0===n||r===n-1)&&(s=0),r%=a.length,s>0&&i.stars[a[r].i].g.length<5&&(i.stars[t].addGate(a[r].i),i.stars[a[r].i].addGate(t),s--,o++)},v=0;v<this.rsize;v++)h(v);this.stars.forEach((function(t){var e=t.g.flatMap((function(e){return t.g.map((function(t){return[e,t]}))})).filter((function(t){return t[0]!==t[1]}));e.forEach((function(e){var a=i.stars[e[0]],s=i.stars[e[1]];if(a.g.length>2&&s.g.length>2&&a.g.indexOf(e[1])>-1){var n=f.distance(t.x,t.y,a.x,a.y),r=f.distance(t.x,t.y,s.x,s.y),o=f.distance(a.x,a.y,s.x,s.y);o<n&&o<r&&(i.stars[e[0]].delGate(e[1]),i.stars[e[1]].delGate(e[0]))}}))}))}return i()(t,[{key:"hasGate",value:function(t){var e=this,a=[];return Array.from(this.g.i).forEach((function(s){if(t===e.g[s].l){var n=e.g[s];n.c=s,a.push(n)}})),a}}]),t}(),p=function(){function t(e,a,s){n()(this,t),this.i=e,this.x=a,this.y=s,this.rng=u()(e),this.n=f.makeName(this.rng),this.g=[];var r=this.rng();if(r<=.7){var i=this.rng();this.c=i<.384?"dM":i<.445?"dK":i<.661?"dG":i<.801?"dF":i<.927?"dA":"dB"}else if(r<=.9){var o=this.rng();this.c=o<.039?"gM":o<.468?"gK":o<.719?"gG":"gF"}else{var c=this.rng();this.c=c<.057?"wK":c<.132?"wG":c<.223?"wF":c<.682?"wA":"wB"}this.s=this.rng(),this.p=null}return i()(t,[{key:"dice",value:function(t,e){var a=0;while(t>0)a+=Math.floor(this.rng()*e)+1,t-=1;return a}}]),i()(t,[{key:"getSystem",value:function(){var e=this;if(!this.p){this.p=[];var a="g"===this.c[0]?12===this.dice(1,12):4===this.dice(1,4);if(a){var s=this.dice(1,4)+2;while(s--)this.p[s]=null;var n,r="g"===this.c[0]?this.dice(1,6)+2:this.dice(1,8);r<=4?(r=1,n=Math.floor(2*this.rng())):r<=7?(r=2,n=this.dice(1,4)):(r=3,n=this.dice(1,4)),n<1&&(n=0);var i=this.dice(1,6),o=t.jov_orbits[r][n+1];this.p[n]=this.planet(o,n,t.jovianType),this.p[n].mass=t.jov_masses[this.c[0]][i];var c=0,l=[].concat(t.jov_orbits[0]).concat(t.jov_orbits[1]).concat(t.jov_orbits[2]).concat(t.jov_orbits[3]).filter((function(t){return 0!==t})).sort((function(t,e){return t>e?1:-1})),d=l.filter((function(t){return t<o}));while(d.length>n&&n>0)d.splice(Math.floor(this.rng()*d.length),1);this.p.forEach((function(a,s){a?c=a.orbit:s<=n?(c=d.shift(),e.p[s]=e.planet(c,s,t.jovTypes)):(c*=1.3+.4*e.rng(),e.p[s]=e.planet(c,s,t.jovTypes))}))}else{this.p=[];var h=this.dice(1,6)+3;while(h--)this.p[h]=null;var p=t.jov_orbits[1][this.dice(1,10)];this.p[0]=this.planet(p,0,t.nonJovTypes),this.p.forEach((function(a,s){s>0&&(p*=1.3+.4*e.rng(),e.p[s]=e.planet(p,s,t.nonJovTypes))}))}var v,m=u()(this.i+"_objects"),g=m(),b=Math.round(100*(this.sl||0))/100;v=b>f.securityMid?g>.55?3:g>.33?2:g>.02?1:0:b>f.securityMid?g>.6?2:g>.05?1:0:b>0?g>.95?2:g>.1?1:0:0;var y=this.p.filter((function(t){return"AB"!==t.type}));v>y.length&&(v=y.length);for(var w=0;w<v;w++){var x=y[Math.floor(m()*y.length)],k=Math.floor(m()*t.stationNames.length);x.objects.push({seed:m(),name:t.stationNames[k],type:100+k,rad:1.25+.8*m(),angle:2*Math.PI*m()})}}return this.p}},{key:"planet",value:function(e,a,s){var n={type:"",mass:0,orbit:e,objects:[],angle:0,seed:0},r=u()(this.n+a),i=3;t.starZones[this.c][2]>e&&(i=2),t.starZones[this.c][1]>e&&(i=1),t.starZones[this.c][0]>e&&(i=0);var o=r(),c=s[i],l=c.length-1,d="";while(l>=0)c[l][0]>o&&(d=c[l][1]),l--,a>0&&0===l&&"AB"===d&&d===this.p[a-1].type&&(o=r(),l=c.length-1),a===this.p.length-1&&0===l&&"AB"===d&&(o=r(),l=c.length-1);return n.angle=2*Math.PI*r(),n.seed=r(),n.type=d,n}},{key:"color",value:function(){return f.starColors[this.c[1]][0]}},{key:"mass",value:function(){var t=f.starMass[this.c[1]],e="g"===this.c[0]?2:1;return e*(this.s*(t[0]-t[1])+t[1])}},{key:"radius",value:function(){var t=f.starSize[this.c[1]],e="g"===this.c[0]?10:"w"===this.c[0]?.01:1;return e*(this.s*(t[0]-t[1])+t[1])}},{key:"addGate",value:function(t){var e=new Set(this.g);e.add(t),this.g=Array.from(e).sort((function(t,e){return t>e?1:-1}))}},{key:"delGate",value:function(t){var e=new Set(this.g);e.delete(t),this.g=Array.from(e).sort((function(t,e){return t>e?1:-1}))}}]),t}();c()(p,"jov_masses",{g:[1,1,3,3,10,10],d:[.3,1,1,3,3,10],w:[.3,.3,1,1,1,10]}),c()(p,"jov_orbits",[[0,.02,.04,.04,.04,.07,.07,.1,.1,.15,.15],[0,.2,.3,.4,.5,.7,.9,1.1,1.4,1.7,2],[0,2.5,3,3.5,4,4.5,5,5.5,6,0,0],[0,7,8,9,10,11,12,0,0,0,0]]),c()(p,"starZones",{dM:[.06,.15,.38],dK:[.25,.65,4],dG:[.8,2.5,10],dF:[1.5,3.8,16],dA:[3.7,9,36],dB:[8,20,80],gM:[16,40,160],gK:[12,30,120],gG:[8.5,21,80],gF:[16,40,160],wK:[0,.01,.05],wG:[0,.01,.05],wF:[0,.01,.05],wA:[0,.01,.05],wB:[0,.01,.05]}),c()(p,"jovianType",[[[1.1,"J"]],[[1.1,"J"]],[[1.1,"J"]],[[1.1,"J"]]]),c()(p,"jovTypes",[[[.27,"S"],[.46,"T"],[.49,"H"],[.52,"V"],[.61,"AB"],[.62,"clsJ"],[.92,"clJ"],[1.1,"tJ"]],[[.27,"S"],[.32,"T"],[.46,"N"],[.49,"H"],[.52,"A"],[.53,"V"],[.62,"AB"],[.92,"J"],[1.1,"tJ"]],[[.32,"G"],[.41,"AB"],[.59,"sJ"],[.92,"J"],[1.1,"tJ"]],[[.32,"G"],[.41,"AB"],[.59,"csJ"],[.92,"cJ"],[1.1,"tJ"]]]),c()(p,"nonJovTypes",[[[.27,"S"],[.49,"T"],[.62,"H"],[.83,"V"],[1.1,"AB"]],[[.27,"S"],[.49,"T"],[.62,"H"],[.83,"V"],[1.1,"AB"]],[[.56,"G"],[.72,"AB"],[1.1,"sJ"]],[[.56,"G"],[.72,"AB"],[1.1,"csJ"]]]),c()(p,"planetMass",{A:["3Me","3Me","3Me","3Me","3Me","3Me"],G:["0.01Me","0.01Me","0.03Me","0.1Me","0.1Me","0.3Me"],H:["3Me","3Me","3Me","3Me","3Me","3Me"],N:["0.3Me","0.3Me","1Me","1Me","1Me","1Me"],S:["0.01Me","0.01Me","0.03Me","0.03Me","0.1Me","0.1Me"],T:["0.3Me","0.3Me","0.3Me","1Me","1Me","1Me"],V:["10Me","10Me","10Me","10Me","10Me","10Me"],AB:["0.01Me","0.01Me","0.01Me","0.03Me","0.03Me","0.1Me"],sJ:["0.03Mj","0.03Mj","0.03Mj","0.1Mj","0.1Mj","0.1Mj"],J:["0.3Mj","0.3Mj","1Mj","1Mj","1Mj","3Mj"],tJ:["10Mj","10Mj","10Mj","10Mj","10Mj","10Mj"]}),c()(p,"stationNames",["Research Station","Food Processing Plant","Industrial Station","Hub Station","Standard Station","Trade Post","Starbase","Military Station","Mining Station","Station"]),e["b"]=f},"43ae":function(t,e,a){"use strict";var s=a("86b3"),n=a.n(s);n.a},"4be4":function(t,e,a){"use strict";var s=a("7145"),n=a.n(s);n.a},"5d54":function(t,e,a){},7145:function(t,e,a){},"7f92":function(t,e,a){"use strict";var s=a("5d54"),n=a.n(s);n.a},8092:function(t,e,a){"use strict";var s=a("014a"),n=a.n(s);n.a},"86b3":function(t,e,a){},"894c":function(t,e,a){"use strict";var s=a("e2f4"),n=a.n(s);n.a},9224:function(t){t.exports=JSON.parse('{"a":"0.0.18"}')},9888:function(t,e,a){},aa8e:function(t,e,a){"use strict";var s=a("fd91"),n=a.n(s);n.a},bb15:function(t,e,a){"use strict";var s=a("9888"),n=a.n(s);n.a},be7e:function(t,e,a){},ce9f:function(t,e,a){},d3d6:function(t,e,a){t.exports=a.p+"img/quasar-logo-full.c3e88651.svg"},e2f4:function(t,e,a){},f241:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticStyle:{overflow:"hidden"}},[a("q-page-container",["offline"===t.view?a("Offline"):t._e(),t.auth||""!==t.view?t._e():a("Login"),t.auth||"register"!==t.view?t._e():a("Register"),t.auth&&""===t.view?a("PageIndex"):t._e()],1)],1)},n=[],r=a("013f"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex flex-center back"},[s("q-dialog",{model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[s("q-card",{staticClass:"reg-dlg"},[s("q-toolbar",{staticClass:"reg-dlg-title"},[s("q-avatar",[s("img",{attrs:{src:a("d3d6"),alt:"Quasar Logo"}})]),s("q-toolbar-title",[s("span",{staticClass:"text-weight-bold"},[t._v("Register new player")])]),s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){return t.cancelRegs()}}})],1),s("q-card-section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",placeholder:"username",dense:"",rules:[function(){return!0}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"far fa-user q-icon"})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"password","error-message":"Passwords are not match",error:!t.samePass,dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"repeat password","error-message":"Passwords are not match",error:!t.samePass,dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",placeholder:"display name",dense:"","bottom-slots":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"fas fa-user-astronaut"})]},proxy:!0},{key:"append",fn:function(){return[s("q-btn",{attrs:{icon:"fas fa-cogs",round:"",dense:""},on:{click:function(e){return t.makeName()}}})]},proxy:!0}]),model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",placeholder:"e-mail",dense:"",rules:[function(){return!0}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"far fa-envelope q-icon"})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em","text-align":"center"}},[s("q-avatar",{attrs:{size:"150px"}},[s("img",{attrs:{src:t.avatarImg,alt:"Avatar"},on:{click:function(e){return t.makeAvatar()}}})])],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em","text-align":"center"}},[s("q-btn",{attrs:{color:"primary",label:"Register"},on:{click:function(e){return t.doRegister()}}})],1)])])],1)],1)],1)},o=[],c=(a("a481"),{name:"Register",data:function(){return{open:!0,username:"",password:"",password2:"",displayName:"",dnValid:!0,email:"",isPwd:!0,avatarImg:""}},mounted:function(){this.makeName()},computed:{samePass:function(){return this.password===this.password2}},methods:{cancelRegs:function(){this.$root.$store.commit("ds/setView","")},makeName:function(){this.displayName=this.$root.$tools.makeName()+" "+this.$root.$tools.makeName(),this.makeAvatar()},makeAvatar:function(){var t=(new Date).getTime(),e=this.displayName.replace(" ",".");this.avatarImg="https://i.pravatar.cc/150?u="+encodeURI(e+"."+t+"@ds.net")},doRegister:function(){var t=this;this.$root.$tools.game.register(this.username,this.password,this.displayName,(function(e){if(e&&e.newPlayer)t.$root.$tools.game.eventRequest("STORE_USETS",{settings:{email:t.email,avatar:t.avatarImg}},(function(){t.$root.$store.commit("ds/setAuth",!0),t.$root.$store.commit("ds/setView","")}));else{var a=e&&e.error?t.$root.$tools.dumpProps(e.error):"Unknown Error";t.$q.notify({message:"Can't register",caption:a,icon:"warning",color:"negative"})}}))}}}),l=c,u=(a("7f92"),a("2877")),d=Object(u["a"])(l,i,o,!1,null,"882b73ae",null),f=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("HorizTools",{attrs:{top:""}},[a("q-btn",{attrs:{round:""}},[a("q-avatar",[a("img",{attrs:{alt:"avatar",src:t.avatar}})]),a("q-popup-proxy",{attrs:{"auto-close":"",breakpoint:300}},[a("div",{staticStyle:{"font-family":"BankGothic"}},[t._v(t._s(t.userName))]),a("div",{staticClass:"fit row inline wrap",staticStyle:{"max-width":"300px"}},[a("FixBtn",{attrs:{icon:"fa fas fa-chart-line",label:"Market"}}),a("FixBtn",{attrs:{icon:"fa fas fa-dna",label:"Skills"}}),a("FixBtn",{attrs:{icon:"fa fas fa-map",label:"StarMap"},on:{click:function(e){t.starMap=!0}}}),a("FixBtn",{attrs:{icon:"fa fas fa-mobile-alt",label:"Comm"}}),a("FixBtn",{attrs:{icon:"settings",label:"Settings",double:""},on:{click:function(e){t.settingsDlg=!0}}}),a("FixBtn",{attrs:{icon:"fa fas fa-box-open",label:"Inventory",double:""}}),a("FixBtn",{attrs:{icon:"fa fas fa-door-open",label:"LogOut"},on:{click:function(e){return t.logoutRequest()}}})],1)])],1),a("q-btn",{staticClass:"q-ml-lg",attrs:{round:"",flat:"",icon:"fas fa-user-astronaut",color:t.autopilot?"accent":"default"},on:{click:function(e){t.autopilot=!t.autopilot}}},[a("q-tooltip",[t._v("Autopilot")])],1),a("div",{staticClass:"col-grow flex flex-center service"},[a("q-space"),a("q-badge",{staticClass:"q-mr-md",attrs:{outline:"",color:"grey-6"},on:{click:function(e){t.aboutDlg=!0}}},[t._v("\n        "+t._s(t.project_version)+"\n        "),a("q-tooltip",[t._v(t._s(t.buildTag()))])],1)],1)],1),"station"===t.view?a("StationView",{on:{undock:function(e){t.view="space"}}}):t._e(),"space"===t.view?a("SpaceView",{on:{dock:function(e){t.view="station"}}}):t._e(),a("StarMap",{attrs:{dialog:t.starMap},on:{close:function(e){t.starMap=!1}}}),a("SettingsDlg",{attrs:{dialog:t.settingsDlg},on:{close:function(e){t.settingsDlg=!1}}}),a("AboutDlg",{attrs:{dialog:t.aboutDlg},on:{close:function(e){t.aboutDlg=!1}}})],1)},p=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.posClass,style:t.posStyle},[t._t("default")],2)},m=[],g={name:"HorizTools",props:{top:Boolean,bottom:Boolean},computed:{posStyle:function(){if(this.top&&this.bottom)throw"Both 'top' and 'bottom' are given";return this.bottom?"bottom: 0;":"top: 0;"},posClass:function(){if(this.top&&this.bottom)throw"Both 'top' and 'bottom' are given";return this.bottom?"row glossy-bottom horiz-toolbox":"row glossy-top horiz-toolbox"}}},b=g,y=(a("43ae"),Object(u["a"])(b,v,m,!1,null,"7090919e",null)),w=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-btn",{class:t.makeClass,attrs:{icon:t.icon,label:t.label,"text-color":"secondary",stack:"",glossy:"",dense:""},on:{click:t.doClick}})},k=[],M={name:"FixBtn",props:{icon:String,label:String,double:{type:Boolean,default:!1}},computed:{makeClass:function(){return this.double?"col-8 fix-btn-d":"col-4 fix-btn"}},methods:{doClick:function(){this.$emit("click")}}},C=M,q=(a("0ec8"),Object(u["a"])(C,x,k,!1,null,"f9514594",null)),S=q.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{maximized:t.maximized,"full-height":"","full-width":"",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("q-card",[s("q-bar",[s("q-icon",{staticClass:"q-px-md",attrs:{name:"menu"}}),s("span",{staticClass:"font-age"},[t._v("Star Map")]),s("q-space"),s("q-btn",{attrs:{flat:"",icon:"fas fa-search"},on:{click:t.searchStar}},[s("q-tooltip",[t._v("Search")])],1),s("q-btn",{attrs:{flat:"",icon:"fas fa-map-marker-alt"},on:{click:t.resetPos}},[s("q-tooltip",[t._v("Current Position")])],1),s("q-btn",{attrs:{flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}},[s("q-tooltip",[t._v("Close")])],1)],1),s("q-bar",[s("div",{staticClass:"col col-grow"},[s("q-breadcrumbs",[t.mode>=0?s("q-breadcrumbs-el",{staticClass:"font-gothic",attrs:{label:"SPACE"},on:{click:function(e){t.mode=0}}}):t._e(),t.mode>=1?s("q-breadcrumbs-el",{staticClass:"font-gothic",attrs:{label:t.clusterName},on:{click:function(e){t.mode=1}}}):t._e(),t.mode>=2?s("q-breadcrumbs-el",{staticClass:"font-gothic",attrs:{label:t.starData.n}}):t._e(),s("q-space")],1)],1),s("div",{staticClass:"col col-shrink"},[s("q-btn",{attrs:{flat:"",icon:"fas fa-search-minus"},on:{click:t.zoomOut}},[s("q-tooltip",[t._v("Zoom Out")])],1),s("q-btn",{attrs:{flat:"",icon:"fas fa-search-plus"},on:{click:t.zoomIn}},[s("q-tooltip",[t._v("Zoom In")])],1)],1)]),s("div",{staticClass:"flex flex-center mapper"},[s("div",{staticClass:"map-container",attrs:{id:"star-map-container"}},[s("q-resize-observer",{on:{resize:function(e){return t.resizeMap()}}})],1),t.mode>=2&&t.starData?s("div",{staticClass:"map-info font-gothic"},[s("b",[t._v("Class: ")]),t._v(" "+t._s(t.starData.c[1])+" "+t._s(t.starTypes[t.starData.c[0]])),s("br"),s("b",[t._v("Mass: ")]),t._v(" "+t._s(t.round(t.starData.mass()))+"☉"),s("br"),s("b",[t._v("Radius: ")]),t._v(" "+t._s(t.round(t.starData.radius()))+"☉"),s("br"),s("b",[t._v("Security: ")]),s("SecLevel",{attrs:{value:t.starData.sl||0,outline:""}})],1):t._e(),s("div",{staticStyle:{display:"none"}},[s("img",{staticStyle:{display:"none"},attrs:{alt:"star-sphere",src:a("20c1"),id:"star-sphere"}}),s("img",{staticStyle:{display:"none"},attrs:{alt:"planet-base",src:"statics/planets/l_009.png",id:"planet-base"}})])])],1),s("q-dialog",{on:{show:t.starImage},model:{value:t.gateInfo,callback:function(e){t.gateInfo=e},expression:"gateInfo"}},[s("q-card",{attrs:{bordered:""}},[s("q-bar",[t._v("\n        Jump Gate\n      ")]),s("q-card-section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-shrink"},[s("div",{staticStyle:{width:"120px",height:"120px"},attrs:{id:"star-container"}})]),s("div",{staticClass:"col"},[s("div",[s("b",[t._v("Destination: ")]),t._v("\n              "+t._s(t.gateTarget.n)+"\n            ")]),s("div",[s("b",[t._v("Distance: ")]),t._v("\n              "+t._s(t.gateTarget.d)+"\n            ")]),s("div",[s("b",[t._v("Security: ")]),s("SecLevel",{attrs:{value:t.gateTarget.sl||0,outline:""}})],1)])])]),s("q-card-actions",{staticClass:"justify-end"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",color:"secondary"},on:{click:function(e){return t.mapJump()}}},[t._v("\n          View\n        ")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",color:"primary"}},[t._v("\n          Close\n        ")])],1)],1)],1),s("q-dialog",{model:{value:t.stationInfo,callback:function(e){t.stationInfo=e},expression:"stationInfo"}},[s("q-card",{attrs:{bordered:""}},[s("q-bar",[t._v("\n        Station\n      ")]),s("q-card-section",[s("div",[s("b",[t._v("Name: ")]),t._v("\n          "+t._s(t.stationTarget.n||"Undefined")+"\n        ")])]),s("q-card-actions",{staticClass:"items-end"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",color:"secondary"}},[t._v("\n          Navigate\n        ")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",color:"primary"}},[t._v("\n          Close\n        ")])],1)],1)],1)],1)},E=[],O=(a("7f7f"),a("3650")),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-badge",{style:{color:t.color},attrs:{outline:t.outline}},[t._v(t._s(t.formatted))])},A=[],$=(a("c5f6"),{name:"SecLevel",props:{value:Number,outline:{type:Boolean,default:!1}},computed:{formatted:function(){var t=O["b"].secLevel(this.value,1);return""+t},color:function(){return O["b"].secColor(this.value)}}}),I=$,P=Object(u["a"])(I,j,A,!1,null,"23474156",null),T=P.exports,D=a("129a"),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",attrs:{persistent:""},on:{hide:t.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin",attrs:{bordered:""}},[a("q-card-section",{staticClass:"q-dialog__title"},[t._v("Search for star")]),a("q-card-section",[a("q-input",{attrs:{label:"Enter star name to search"},on:{keypress:t.checkEnter},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",flat:"",label:"Cancel"},on:{click:t.onCancelClick}}),a("q-btn",{attrs:{color:"primary",flat:"",label:"OK"},on:{click:t.onOKClick}})],1)],1)],1)},N=[],z={name:"StarSearchDlg",props:{},data:function(){return{text:""}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},checkEnter:function(t){"Enter"===t.code&&this.onOKClick()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var t=[],e=this.text.toLowerCase();this.$parent.$tools.starMap.sectors.forEach((function(a,s){var n=a.stars.map((function(t,n){var r=t.n.toLowerCase().indexOf(e);return{si:s,sc:a,ni:r,so:t,soi:n}})).filter((function(t){return t.ni>=0})).sort((function(t,e){return t.ni<e.ni?-1:t.ni>e.ni?1:t.so.n<e.so.n?-1:1}));t=t.concat(n)})),t=t.sort((function(t,e){return t.ni<e.ni?-1:t.ni>e.ni?1:t.so.n<e.so.n?-1:1})),this.$emit("ok",t),this.hide()},onCancelClick:function(){this.hide()}}},R=z,L=Object(u["a"])(R,B,N,!1,null,"26ff9e3a",null),G=L.exports,F={name:"StarMap",components:{SecLevel:T},data:function(){return{maximized:!0,inSearch:!1,mode:1,cluster:0,star:0,zoom:100,starData:null,evCache:[],prevDiff:-1,starTypes:{d:"",g:"giant",w:"white dwarf"},gateInfo:!1,gateTarget:{},stationInfo:!1,stationTarget:{}}},props:{dialog:Boolean},watch:{mode:function(){this.zoom=100,this.drawMap()},cluster:function(){this.zoom=100,this.drawMap()},star:function(){this.zoom=100,this.drawMap()},dialog:function(t){t&&(this.zoom=100,setTimeout(this.drawMap,1))}},mounted:function(){this.maximized=window.innerWidth<=760},computed:{clusterName:function(){return this.$root.$tools.starMap.sectors[this.cluster].name}},methods:{round:function(t){return Math.round(100*t)/100},resetPos:function(){this.mode=1,this.cluster=0},zoomIn:function(){this.zoom=Math.round(1.1*this.zoom),this.processZoom(),this.processScroll(1.1)},zoomOut:function(){var t=Math.round(.9090909*this.zoom);t<100&&(t=100),this.zoom=t,this.processZoom(),this.processScroll(.9090909)},drawMap:function(){var t=document.getElementById("star-map-container");if(t){t.innerHTML="",0===this.mode?(this.$root.$tools.starMap.draw("star-map-container",this.mapClick),this.$root.$tools.starMap.overlaySector("star-map-container",this.cluster)):1===this.mode?(this.$root.$tools.starMap.drawRegion("star-map-container",this.cluster,this.starClick),this.$root.$tools.starMap.overlayStar("star-map-container",this.cluster,0)):(this.$root.$tools.starMap.drawStar("star-map-container",this.cluster,this.star,this.objectClick),this.starData=this.$root.$tools.starMap.sectors[this.cluster].stars[this.star]),this.processZoom();var e=document.getElementById("star-map-container-svg-draw");e.onpointerdown=this.pointerdown_handler,e.onpointermove=this.pointermove_handler,e.onpointerup=this.pointerup_handler,e.onpointercancel=this.pointerup_handler,e.onpointerout=this.pointerup_handler,e.onpointerleave=this.pointerup_handler}},resizeMap:function(){document.getElementById("star-map-container")},processZoom:function(){var t=document.getElementById("star-map-container");if(t){var e=document.getElementById("star-map-container-svg-draw");if(e){var a=Math.min(t.parentElement.clientWidth,t.clientHeight),s=Math.round(this.zoom*a/100);e.style.width="".concat(s,"px"),e.style.height="".concat(s,"px"),this.$root.$tools.starMap.checkVisibility(this.mode,s)}}},processScroll:function(t){var e=document.getElementById("star-map-container");if(e){var a=e.scrollLeft+e.clientWidth/2,s=e.scrollTop+e.clientHeight/2;a=Math.round(t*a-e.clientWidth/2),s=Math.round(t*s-e.clientHeight/2),e.scrollTo(0,0),e.scrollTo(a,s)}},pointerdown_handler:function(t){this.evCache.push(t)},pointermove_handler:function(t){for(var e=0;e<this.evCache.length;e++)if(t.pointerId===this.evCache[e].pointerId){this.evCache[e]=t;break}if(2===this.evCache.length){var a=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>0&&(a>this.prevDiff&&(console.log("Pinch moving OUT -> Zoom in",t),this.zoom=Math.round(1.02*this.zoom),this.processZoom()),a<this.prevDiff&&(console.log("Pinch moving IN -> Zoom out",t),this.zoom=Math.round(this.zoom/1.02),this.processZoom())),this.prevDiff=a}},pointerup_handler:function(t){for(var e=0;e<this.evCache.length;e++)if(this.evCache[e].pointerId===t.pointerId){this.evCache.splice(e,1);break}this.evCache.length<2&&(this.prevDiff=-1)},mapClick:function(t){0===this.mode&&(this.cluster=t,this.mode=1)},starClick:function(t){if(1===this.mode){var e=this.$root.$tools.starMap;this.starData=e.sectors[this.cluster].stars[t],this.mode=2,this.star=t}},objectClick:function(t,e,a){if("gate"===e){var s=this.$root.$tools.starMap.sectors[this.cluster].stars[a];s.index=a,s.cluster=this.cluster,s.d=Math.round(100*O["a"].distance(t.x,t.y,s.x,s.y))/100,this.gateInfo=!0,this.gateTarget=s}if("i-gate"===e){var n=this.$root.$tools.starMap.sectors[a.c].stars[a.r];n.index=a.r,n.cluster=a.c,n.d=Math.round(2*O["a"].distance(500,500,a.x,a.y))/100,this.gateTarget=n,this.gateInfo=!0}if("station"===e){var r=a.name||"Station";this.stationTarget={n:r+" at "+t.n+" "+Object(D["b"])(a.planet)},this.stationInfo=!0}},starImage:function(){this.$root.$tools.starMap.starImage("star-container",this.gateTarget.cluster,this.gateTarget.index)},mapJump:function(){this.gateTarget&&(this.star=this.gateTarget.index,void 0!==this.gateTarget.cluster&&(this.cluster=this.gateTarget.cluster))},searchStar:function(){this.$q.dialog({component:G,parent:this}).onOk((function(t){console.log(t)}))}}},Q=F,V=(a("0c65"),Object(u["a"])(Q,_,E,!1,null,"11413074",null)),J=V.exports,U=a("9224"),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("VertTools",{attrs:{left:"",noback:""}},[a("q-btn",{attrs:{round:"",flat:"",icon:"fas fa-sign-out-alt"},on:{click:function(e){return t.$emit("undock")}}},[a("q-tooltip",[t._v("Undock from station")])],1)],1),a("q-page",{staticClass:"flex flex-center"},[a("div",{staticClass:"hangar-back"})])],1)},Z=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.posClass,style:t.posStyle},[t._t("default")],2)},W=[],X={name:"VertTools",props:{left:Boolean,right:Boolean,noback:Boolean},computed:{posStyle:function(){if(this.left&&this.right)throw"Both 'left' and 'right' are given";return this.right?"right: 0;":"left: 0;"},posClass:function(){if(this.left&&this.right)throw"Both 'left' and 'right' are given";var t="vertical-toolbox";return this.noback||(t+=this.right?" glossy-right":" glossy-left"),t}}},Y=X,tt=(a("17c9"),Object(u["a"])(Y,K,W,!1,null,"0837733f",null)),et=tt.exports,at={name:"StationView",components:{VertTools:et}},st=at,nt=(a("894c"),Object(u["a"])(st,H,Z,!1,null,"04b30565",null)),rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-page",{staticClass:"flex flex-center space-view"}),a("HorizTools",{attrs:{bottom:""}},[a("q-btn",{attrs:{round:"",flat:"",icon:"fas fa-sign-in-alt"},on:{click:function(e){return t.$emit("dock")}}},[a("q-tooltip",[t._v("Docking")])],1)],1)],1)},ot=[],ct={name:"SpaceView",components:{HorizTools:w}},lt=ct,ut=(a("4be4"),Object(u["a"])(lt,it,ot,!1,null,"55b85c49",null)),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{maximized:t.maximized,persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticClass:"settings-dlg"},[a("q-bar",[a("q-icon",{staticClass:"q-px-md",attrs:{name:"menu"}}),a("span",{staticStyle:{"font-family":"SpaceAge"}},[t._v("Settings")]),a("q-space"),a("q-btn",{attrs:{flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}},[a("q-tooltip",[t._v("Close")])],1)],1),a("q-card-section",[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"text-h6"},[t._v("Graphics")]),a("q-list",[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"2ds"},model:{value:t.graphics,callback:function(e){t.graphics=e},expression:"graphics"}})],1),a("q-item-section",[a("q-item-label",[t._v("2D Schemes")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                Fast graphics, suitable for mobiles\n              ")])],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"3ds"},model:{value:t.graphics,callback:function(e){t.graphics=e},expression:"graphics"}})],1),a("q-item-section",[a("q-item-label",[t._v("3D Schemes")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                Still fast, but more reliable graphics.\n              ")])],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"3dr"},model:{value:t.graphics,callback:function(e){t.graphics=e},expression:"graphics"}})],1),a("q-item-section",[a("q-item-label",[t._v("3D Rendering")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                Most realistic graphics mode. May be slow and not recommended for mobiles.\n              ")])],1)],1)],1),a("hr")],1)]),a("q-card-actions",[a("q-btn",{attrs:{flat:"",label:"About"},on:{click:function(e){t.aboutDlg=!0}}}),a("q-space"),a("q-btn",{attrs:{flat:"",label:"Cancel",color:"negative"},on:{click:function(e){return t.$emit("close")}}}),a("q-btn",{attrs:{flat:"",label:"Apply",color:"positive"},on:{click:t.apply}})],1)],1),a("AboutDlg",{attrs:{dialog:t.aboutDlg},on:{close:function(e){t.aboutDlg=!1}}})],1)},ht=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticClass:"about-card"},[a("q-bar",[a("q-icon",{staticClass:"q-px-md",attrs:{name:"menu"}}),a("span",{staticStyle:{"font-family":"SpaceAge"}},[t._v("About")]),a("q-space"),a("q-btn",{attrs:{flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}},[a("q-tooltip",[t._v("Close")])],1)],1),a("q-card-section",{staticClass:"scroll about-card-data"},[a("div",{staticClass:"about-block"},[a("h3",{staticClass:"h-title",staticStyle:{"font-size":"2.6rem"}},[t._v("DEEP")]),a("h3",{staticClass:"h-title",staticStyle:{"font-size":"2.17rem"}},[t._v("SPACE")]),a("h5",{staticClass:"h-title",staticStyle:{"font-size":"1.05rem"}},[t._v("adventures")]),a("div",{staticClass:"v-block"},[t._v("v."+t._s(t.project_version))]),a("div",{staticClass:"v-block"},[t._v('© 2020 Andrew "Stinger" Abramov')]),a("h5",{staticClass:"h-title",staticStyle:{background:"#4b4b4b"}},[t._v("Credits")])]),a("div",{staticClass:"t-block"}),a("h6",{staticClass:"c-title"},[t._v("Quasar Framework")]),a("div",{staticClass:"t-block"},[a("a",{attrs:{href:"https://quasar.dev/introduction-to-quasar",target:"_blank"}},[t._v("\n          https://quasar.dev/\n        ")]),a("p",[t._v("\n          Quasar is an MIT licensed open-source Vue.js based framework, which allows you as a web\n          developer to quickly create responsive++ websites/apps in many flavours.\n        ")]),a("p",[t._v("Quasar of version "+t._s(t.$q.version)+" is used as base for the UI in this project.")])]),a("h6",{staticClass:"c-title"},[t._v("Cosmos-2")]),a("div",{staticClass:"t-block"},[a("p",[t._v("Alternity Universe-Guidebook, Version 2")]),a("p",[t._v("\n          © Mark Peoples, 2006. Permission granted to make and distribute electronic and paper\n          copies for personal use only. Permission granted to host this work on a website or\n          online archive. All other rights reserved.\n        ")]),a("p",[t._v("This work is used as base for Deep Space Universe.")])]),a("h6",{staticClass:"c-title",staticStyle:{"font-size":"small"}},[t._v("Tech Data")]),a("q-expansion-item",{attrs:{"expand-separator":"",label:"Device info"}},[a("q-card",[a("q-card-section",{staticClass:"monotype"},[t._v("\n            "+t._s(JSON.stringify(t.platform,null,2))+"\n          ")]),a("q-card-section",{staticClass:"q-pa-xs"},[a("q-btn",{staticStyle:{width:"100%"},attrs:{color:"primary",label:"Copy to clipboard",dense:""}})],1)],1)],1)],1),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{attrs:{label:"Ok",color:"positive"},on:{click:function(e){return t.$emit("close")}}})],1)],1)],1)},vt=[],mt=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),gt=a.n(mt);function bt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function yt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(a),!0).forEach((function(e){gt()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var wt={name:"AboutDlg",data:function(){return{project_version:U["a"]}},props:{dialog:Boolean},mounted:function(){},computed:{platform:function(){var t=yt({},this.$q.platform.is);return t.screen=this.$q.screen,t}}},xt=wt,kt=(a("8092"),Object(u["a"])(xt,pt,vt,!1,null,"031a97e5",null)),Mt=kt.exports,Ct={name:"SettingsDlg",components:{AboutDlg:Mt},data:function(){return{maximized:!0,graphics:"2ds",aboutDlg:!1}},props:{dialog:Boolean},watch:{dialog:function(){var t=this.$root.$tools.settings.get();this.graphics=t.graphics}},mounted:function(){this.maximized=window.innerWidth<=760},methods:{apply:function(){this.$root.$tools.settings.put({graphics:this.graphics}),this.$emit("close")}}},qt=Ct,St=(a("bb15"),Object(u["a"])(qt,ft,ht,!1,null,"d4a9d320",null)),_t=St.exports,Et={name:"PageIndex",components:{AboutDlg:Mt,SettingsDlg:_t,SpaceView:dt,StationView:rt,StarMap:J,FixBtn:S,HorizTools:w},data:function(){return{userName:"",avatar:"",starMap:!1,settingsDlg:!1,aboutDlg:!1,autopilot:!1,project_version:U["a"],view:"station"}},mounted:function(){var t=this;this.$root.$tools.game.gs.accountDetailsRequest((function(e){t.userName=e.displayName,e&&e.scriptData&&e.scriptData.settings&&e.scriptData.settings.avatar?t.avatar=e.scriptData.settings.avatar:t.avatar="https://i.pravatar.cc/150?u=".concat(t.userName,"@ds.net")}))},methods:{buildTag:function(){var t="devBuild",e=new Date("2020-04-07T11:17:29.216Z"),a="e83e59be";return t=e.toUTCString()+" build "+a,t},logoutRequest:function(){this.$root.$store.commit("ds/setAuth",!1)}}},Ot=Et,jt=(a("aa8e"),Object(u["a"])(Ot,h,p,!1,null,"94806fee",null)),At=jt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{ref:"pageHolder",staticClass:"flex flex-center"},[a("canvas",{staticClass:"back_canvas",attrs:{id:"bg-canvas"}}),a("div",{staticStyle:{"text-align":"center"}},[a("h3",{staticClass:"h-title",staticStyle:{"font-size":"3.77rem"}},[t._v("DEEP")]),a("h3",{staticClass:"h-title",staticStyle:{"font-size":"3.1rem"}},[t._v("SPACE")]),a("h5",{staticClass:"h-title"},[t._v("adventures")]),a("div",{staticClass:"v-block"},[t._v("v."+t._s(t.project_version))]),a("q-badge",{staticClass:"h-title",attrs:{color:"negative"}},[t._v("no internet connection")]),a("div",{staticClass:"row q-pa-lg items-center"},[a("q-btn",{staticStyle:{margin:"auto"},attrs:{color:"primary",label:"Check"},on:{click:function(e){return t.doCheck()}}})],1)],1)])},It=[],Pt=(a("6c7b"),{name:"Offline",data:function(){return{canvas:null,context:null,stars:[],midx:0,midy:0,project_version:U["a"]}},mounted:function(){window.addEventListener("resize",this.onResize),window.requestAnimationFrame(this.animate),this.onResize()},methods:{checkEnter:function(t){"Enter"===t.code&&this.doLogin()},doCheck:function(){},doRegister:function(){this.$root.$store.commit("ds/setView","register")},onResize:function(){this.canvas=document.getElementById("bg-canvas"),this.canvas&&(this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.context=this.canvas.getContext("2d"),this.midx=this.canvas.width/2,this.midy=this.canvas.height/2,this.stars=[])},animate:function(){if(this.canvas){if(this.stars.length<300&&Math.random()>.1){var t={x:0,y:0,vx:6*Math.random()-3,vy:6*Math.random()-3};this.stars.push(t)}this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=0;e<this.stars.length;e++){this.stars[e].x=this.stars[e].x+this.stars[e].vx,this.stars[e].y=this.stars[e].y+this.stars[e].vy,(this.stars[e].x>this.midx||this.stars[e].x<-this.midx)&&(this.stars[e].x=0,this.stars[e].y=0);var a=Math.floor(Math.abs(this.stars[e].x)+Math.abs(this.stars[e].y));this.context.fillStyle="rgb("+a+","+a+","+a+")",this.context.beginPath(),this.context.arc(this.midx+this.stars[e].x,this.midy+this.stars[e].y,Math.abs(2*this.stars[e].y/this.midy+e/150),0,2*Math.PI),this.context.fill()}window.requestAnimationFrame(this.animate)}}}}),Tt=Pt,Dt=(a("0275"),Object(u["a"])(Tt,$t,It,!1,null,"21172d90",null)),Bt=Dt.exports,Nt={name:"MyLayout",components:{Offline:Bt,PageIndex:At,Register:f,Login:r["default"]},data:function(){return{leftDrawerOpen:!1}},computed:{view:function(){return this.$root.$store.state.ds.online?this.$root.$store.state.ds.view:"offline"},auth:function(){return this.$root.$store.state.ds.auth}}},zt=Nt,Rt=Object(u["a"])(zt,s,n,!1,null,null,null);e["default"]=Rt.exports},f92b:function(t,e,a){},fd91:function(t,e,a){},fde4:function(t,e,a){}});