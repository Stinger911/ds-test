(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(t,e,a){t.exports=a("2f39")},"0047":function(t,e,a){},"013f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{ref:"pageHolder",staticClass:"flex flex-center"},[a("canvas",{staticClass:"back_canvas",attrs:{id:"bg-canvas"}}),a("div",{staticStyle:{"text-align":"center"}},[a("h3",{staticClass:"h-title"},[t._v("DEEP")]),a("h3",{staticClass:"h-title"},[t._v("SPACE")]),a("h5",{staticClass:"h-title"},[t._v("adventures")]),a("div",{staticClass:"row",staticStyle:{"max-width":"500px",margin:"auto"}},[a("div",{staticClass:"col-xs-12 col-sm-6",staticStyle:{padding:".5em"}},[a("q-input",{attrs:{outlined:"",placeholder:"username",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("i",{staticClass:"far fa-user q-icon"})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("div",{staticClass:"col-xs-12 col-sm-6",staticStyle:{padding:".5em"}},[a("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"password",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"col-xs-6"},[a("q-btn",{attrs:{flat:"",color:"secondary",label:"Register"},on:{click:function(e){return t.doRegister()}}})],1),a("div",{staticClass:"col-xs-6"},[a("q-btn",{attrs:{color:"primary",label:"Login"},on:{click:function(e){return t.doLogin()}}})],1),a("div",{staticClass:"col-xs-12"},[a("b",[t._v("– OR –")])]),a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-btn",{attrs:{round:"",color:"blue",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-facebook-f q-icon"})]),a("q-btn",{attrs:{round:"",color:"red",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-google q-icon"})]),a("q-btn",{attrs:{round:"",color:"amber",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-app-store-ios q-icon"})]),a("q-btn",{attrs:{round:"",color:"deep-orange",glossy:"",disable:""}},[a("i",{staticClass:"fab fa-google-play q-icon"})])],1)])])])])},n=[],o=(a("6c7b"),{name:"Login",data:function(){return{username:"",password:"",isPwd:!0,canvas:null,context:null,stars:[],midx:0,midy:0}},mounted:function(){window.addEventListener("resize",this.onResize),window.requestAnimationFrame(this.animate),this.onResize()},methods:{doLogin:function(){var t=this;this.$root.$tools.game.login(this.username,this.password,(function(e){e&&e.error?t.$q.notify({message:"Can't log in",caption:e.error.DETAILS,icon:"warning",color:"negative"}):t.$root.$store.commit("ds/setAuth",!0)}))},doRegister:function(){this.$root.$store.commit("ds/setView","register")},onResize:function(){this.canvas=document.getElementById("bg-canvas"),this.canvas&&(this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.context=this.canvas.getContext("2d"),this.midx=this.canvas.width/2,this.midy=this.canvas.height/2,this.stars=[])},animate:function(){if(this.canvas){if(this.stars.length<300&&Math.random()>.1){var t={x:0,y:0,vx:6*Math.random()-3,vy:6*Math.random()-3};this.stars.push(t)}this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=0;e<this.stars.length;e++){this.stars[e].x=this.stars[e].x+this.stars[e].vx,this.stars[e].y=this.stars[e].y+this.stars[e].vy,(this.stars[e].x>this.midx||this.stars[e].x<-this.midx)&&(this.stars[e].x=0,this.stars[e].y=0);var a=Math.floor(Math.abs(this.stars[e].x)+Math.abs(this.stars[e].y));this.context.fillStyle="rgb("+a+","+a+","+a+")",this.context.beginPath(),this.context.arc(this.midx+this.stars[e].x,this.midy+this.stars[e].y,Math.abs(2*this.stars[e].y/this.midy+e/150),0,2*Math.PI),this.context.fill()}window.requestAnimationFrame(this.animate)}}}}),r=o,i=(a("da41"),a("2877")),c=Object(i["a"])(r,s,n,!1,null,null,null);e["default"]=c.exports},"14f2":function(t,e,a){},"1dfa":function(t,e,a){"use strict";var s=a("7d54"),n=a.n(s);n.a},"2f39":function(t,e,a){"use strict";a.r(e);var s={};a.r(s),a.d(s,"someGetter",(function(){return X}));var n={};a.r(n),a.d(n,"setAuth",(function(){return Z})),a.d(n,"setView",(function(){return Y}));var o={};a.r(o),a.d(o,"someAction",(function(){return K}));var r=a("967e"),i=a.n(r),c=(a("a481"),a("96cf"),a("fa84")),l=a.n(c),u=(a("7d6e"),a("573e"),a("e54f"),a("985d"),a("0047"),a("2b0e")),d=a("1f91"),f=a("42d2"),p=a("b05d"),h=a("cb32"),m=a("d847"),g=a("9c40"),v=a("f09f"),w=a("4b7e"),b=a("a370"),x=a("24e8"),y=a("9404"),k=a("e359"),q=a("0016"),C=a("27f9"),S=a("66e5"),$=a("0170"),P=a("4074"),_=a("4d5a"),A=a("1c1c"),M=a("9989"),E=a("09e3"),I=a("7cbe"),R=a("2c91"),Q=a("65c6"),B=a("6ac5"),L=a("05c0"),T=a("714f"),O=a("7f67"),N=a("2a19");u["a"].use(p["a"],{config:{},lang:d["a"],iconSet:f["a"],components:{QAvatar:h["a"],QBar:m["a"],QBtn:g["a"],QCard:v["a"],QCardActions:w["a"],QCardSection:b["a"],QDialog:x["a"],QDrawer:y["a"],QHeader:k["a"],QIcon:q["a"],QInput:C["a"],QItem:S["a"],QItemLabel:$["a"],QItemSection:P["a"],QLayout:_["a"],QList:A["a"],QPage:M["a"],QPageContainer:E["a"],QPopupProxy:I["a"],QSpace:R["a"],QToolbar:Q["a"],QToolbarTitle:B["a"],QTooltip:L["a"]},directives:{Ripple:T["a"],ClosePopup:O["a"]},plugins:{Notify:N["a"]}});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"q-app"}},[a("MyLayout")],1)},F=[],H=a("f241"),j={name:"App",components:{MyLayout:H["default"]},created:function(){this.$q.dark.set(!0),this.$root.$tools.game.store=this.$root.$store}},V=j,D=a("2877"),U=Object(D["a"])(V,z,F,!1,null,null,null),G=U.exports,J=a("2f62"),W=function(){return{auth:!1,view:""}};function X(){}function Z(t,e){t.auth=e}function Y(t,e){t.view=e}function K(){}var tt={namespaced:!0,getters:s,mutations:n,actions:o,state:W};u["a"].use(J["a"]);var et=function(){var t=new J["a"].Store({modules:{ds:tt},strict:!1});return t},at=a("8c4f"),st=[{path:"/",component:function(){return Promise.resolve().then(a.bind(null,"f241"))},children:[{path:"",name:"default",component:function(){return Promise.resolve().then(a.bind(null,"013f"))}}]}];st.push({path:"*",component:function(){return a.e("4b47640d").then(a.bind(null,"e51e"))}});var nt=st;u["a"].use(at["a"]);var ot=function(){var t=new at["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:nt,mode:"hash",base:""});return t},rt=function(){return it.apply(this,arguments)};function it(){return it=l()(i.a.mark((function t(){var e,a,s;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof et){t.next=6;break}return t.next=3,et({Vue:u["a"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=et;case 7:if(e=t.t0,"function"!==typeof ot){t.next=14;break}return t.next=11,ot({Vue:u["a"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=ot;case 15:return a=t.t1,e.$router=a,s={el:"#q-app",router:a,store:e,render:function(t){return t(G)}},t.abrupt("return",{app:s,store:e,router:a});case 19:case"end":return t.stop()}}),t)}))),it.apply(this,arguments)}var ct=a("a925"),lt={failed:"Action failed",success:"Action was successful"},ut={"en-us":lt};u["a"].use(ct["a"]);var dt=new ct["a"]({locale:"en-us",fallbackLocale:"en-us",messages:ut}),ft=function(t){var e=t.app;e.i18n=dt},pt=a("bc3a"),ht=a.n(pt);u["a"].prototype.$axios=ht.a;a("28a5");var mt="X388316E3fNi",gt="Nf6w3hFfo9xafl9Y79Aby6xBZFUn97LU";function vt(t){return window.CryptoJS.enc.Base64.stringify(window.CryptoJS.HmacSHA256(t,gt))}function wt(){var t;(t=console).log.apply(t,arguments)}var bt={store:null,gs:window.gamesparks,onInit:function(){},onMessage:function(t){wt("GM-Message",t,bt),".AuthenticatedConnectResponse"===t["@class"]&&t["userId"]},onError:function(t){this.gs.log("GM-Message",t,this),this.isAuthenticated&&(this.isAuthenticated=!1)},saveAuthToken:function(){var t=window.gamesparks.getAuthToken(),e=window.gamesparks.getSessionId();window.localStorage.setItem("dsdat",t+"::"+e)},login:function(t,e,a){bt.gs.authenticationRequest(e,t,(function(t){t&&void 0===t.error&&bt.saveAuthToken(),a&&a(t)}))},register:function(t,e,a,s){bt.gs.registrationRequest(t,e,t,(function(t){t&&void 0!==t["userId"]&&void 0!==t["authToken"]&&!0===t["newPlayer"]&&(bt.gs.setAuthToken(t["authToken"]),bt.saveAuthToken()),s&&s(t)}))}};function xt(t){console.log(t);var e=window.localStorage.getItem("dsdat");if(null!=e){var a=e.split("::");window.gamesparks.setAuthToken(a[0]),window.gamesparks.sessionId=a[1]}return bt.gs=window.gamesparks,window.gamesparks.initPreview({key:mt,secret:gt,onNonce:vt,onInit:bt.onInit,onMessage:bt.onMessage,onError:bt.onError,logger:wt}),console.log(bt),bt}function yt(){return kt.apply(this,arguments)}function kt(){return kt=l()(i.a.mark((function t(){var e,a,s,n,o,r,c,l,d;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt();case 2:e=t.sent,a=e.app,s=e.store,n=e.router,o=!0,r=function(t){o=!1,window.location.href=t},c=window.location.href.replace(window.location.origin,""),l=[ft,void 0,void 0],d=0;case 11:if(!(!0===o&&d<l.length)){t.next=29;break}if("function"===typeof l[d]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,l[d]({app:a,router:n,store:s,Vue:u["a"],ssrContext:null,redirect:r,urlPath:c});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:d++,t.next=11;break;case 29:if(!1!==o){t.next=31;break}return t.abrupt("return");case 31:new u["a"](a);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),kt.apply(this,arguments)}u["a"].prototype.$tools={makeName:function(){for(var t="ABOUSEITILETSTONLONUTHNOALLEXEGEZACEBISOUSESARMAINDIREA?ERATENBERALAVETIEDORQUANTEISRION",e="",a=0,s=Math.random()<.15?2:Math.random()<.5?3:4,n=0;n<s;n++)a=2*Math.floor(43*Math.random()),e+=t[a],"?"!==t[a+1]&&(e+=t[a+1]);return e.charAt(0)+e.slice(1).toLowerCase()},game:xt(u["a"].prototype),dumpProps:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";return Object.getOwnPropertyNames(t).forEach((function(s){a+=s+": "+t[s],a+=e?"<br/>\n":",\n"})),a}},yt()},"7d54":function(t,e,a){},8944:function(t,e,a){},c876:function(t,e,a){"use strict";var s=a("8944"),n=a.n(s);n.a},cc3c:function(t,e,a){"use strict";var s=a("df78"),n=a.n(s);n.a},d3d6:function(t,e,a){t.exports=a.p+"img/quasar-logo-full.c3e88651.svg"},da41:function(t,e,a){"use strict";var s=a("14f2"),n=a.n(s);n.a},df78:function(t,e,a){},f241:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticStyle:{overflow:"hidden"}},[a("q-page-container",[t.auth||""!==t.view?t._e():a("Login"),t.auth||"register"!==t.view?t._e():a("Register"),t.auth&&""===t.view?a("PageIndex"):t._e()],1)],1)},n=[],o=a("013f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("HorizTools",{attrs:{top:""}},[s("q-btn",{attrs:{round:""}},[s("q-avatar",[s("img",{attrs:{alt:"avatar",src:t.avatar}})]),s("q-popup-proxy",{attrs:{"auto-close":"",breakpoint:300}},[s("div",[t._v(t._s(t.userName))]),s("div",{staticClass:"fit row inline wrap",staticStyle:{"max-width":"300px"}},[s("FixBtn",{attrs:{icon:"settings",label:"Settings"}}),s("FixBtn",{attrs:{icon:"fa fas fa-chart-line",label:"Market",double:""}}),s("FixBtn",{attrs:{icon:"fa fas fa-mobile-alt",label:"Comm",double:""}}),s("FixBtn",{attrs:{icon:"fa fas fa-map",label:"StarMap"},on:{click:function(e){t.starMap=!0}}}),s("FixBtn",{attrs:{icon:"fa fas fa-box-open",label:"Inventory"}}),s("FixBtn",{attrs:{icon:"fa fas fa-dna",label:"Skills"}}),s("FixBtn",{attrs:{icon:"fa fas fa-door-open",label:"Log Out"},on:{click:function(e){return t.logoutRequest()}}})],1)])],1)],1),s("q-page",{staticClass:"flex flex-center"},[s("img",{attrs:{alt:"Quasar logo",src:a("d3d6")}})]),s("StarMap",{attrs:{dialog:t.starMap},on:{close:function(e){t.starMap=!1}}})],1)},i=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.posClass,style:t.posStyle},[t._t("default")],2)},l=[],u={name:"HorizTools",props:{top:Boolean,bottom:Boolean},computed:{posStyle:function(){if(this.top&&this.bottom)throw"Both 'top' and 'bottom' are given";return this.bottom?"bottom: 0;":"top: 0;"},posClass:function(){if(this.top&&this.bottom)throw"Both 'top' and 'bottom' are given";return this.bottom?"glossy-bottom horiz-toolbox":"glossy-top horiz-toolbox"}}},d=u,f=(a("c876"),a("2877")),p=Object(f["a"])(d,c,l,!1,null,"76b9e594",null),h=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-btn",{class:t.makeClass,attrs:{icon:t.icon,label:t.label,"text-color":"secondary",stack:"",glossy:""},on:{click:t.doClick}})},g=[],v={name:"FixBtn",props:{icon:String,label:String,double:{type:Boolean,default:!1}},computed:{makeClass:function(){return this.double?"col-8 fix-btn-d":"col-4 fix-btn"}},methods:{doClick:function(){this.$emit("click")}}},w=v,b=(a("1dfa"),Object(f["a"])(w,m,g,!1,null,"158bfdb0",null)),x=b.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{maximized:t.maximized,"full-height":"","full-width":"",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",[a("q-bar",[a("q-btn",{attrs:{flat:"",icon:"menu"}},[a("q-tooltip",[t._v("Close")])],1),a("span",[t._v("Star Map")]),a("q-space"),a("q-btn",{attrs:{flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}},[a("q-tooltip",[t._v("Close")])],1)],1)],1)],1)},k=[],q={name:"StarMap",data:function(){return{maximized:!0}},props:{dialog:Boolean},mounted:function(){this.maximized=window.innerWidth<=760}},C=q,S=Object(f["a"])(C,y,k,!1,null,"4d61e94c",null),$=S.exports,P={name:"PageIndex",components:{StarMap:$,FixBtn:x,HorizTools:h},data:function(){return{userName:"",starMap:!1}},mounted:function(){this.userName=this.$root.$tools.makeName()+" "+this.$root.$tools.makeName()},computed:{avatar:function(){return"https://i.pravatar.cc/150?u=".concat(this.userName,"@nanos.net")}},methods:{logoutRequest:function(){this.$root.$store.commit("ds/setAuth",!1)},showStarMap:function(){this.starMap=!0}}},_=P,A=Object(f["a"])(_,r,i,!1,null,null,null),M=A.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{ref:"pageHolder",staticClass:"flex flex-center back"},[s("q-dialog",{model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[s("q-card",{staticClass:"reg-dlg"},[s("q-toolbar",{staticClass:"reg-dlg-title"},[s("q-avatar",[s("img",{attrs:{src:a("d3d6"),alt:"Quasar Logo"}})]),s("q-toolbar-title",[s("span",{staticClass:"text-weight-bold"},[t._v("Register new player")])]),s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){return t.cancelRegs()}}})],1),s("q-card-section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",placeholder:"username",dense:"",rules:[function(){return!0}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"far fa-user q-icon"})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"password","error-message":"Passwords are not match",error:!t.samePass,dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",placeholder:"repeat password","error-message":"Passwords are not match",error:!t.samePass,dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"fas fa-unlock-alt q-icon"})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"far fa-eye":"far fa-eye-slash"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em"}},[s("q-input",{attrs:{outlined:"",placeholder:"e-mail",dense:"",rules:[function(){return!0}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("i",{staticClass:"far fa-envelope q-icon"})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("div",{staticClass:"col-xs-12",staticStyle:{padding:".5em","text-align":"center"}},[s("q-btn",{attrs:{color:"primary",label:"Register"},on:{click:function(e){return t.doRegister()}}})],1)])])],1)],1)],1)},I=[],R={name:"Register",data:function(){return{open:!0,username:"",password:"",password2:"",email:"",isPwd:!0}},computed:{samePass:function(){return this.password===this.password2}},methods:{cancelRegs:function(){this.$root.$store.commit("ds/setView","")},doRegister:function(){var t=this;this.$root.$tools.game.register(this.username,this.password,this.email,(function(e){if(e&&e.newPlayer)t.$root.$store.commit("ds/setAuth",!0),t.$root.$store.commit("ds/setView","register");else{var a=e&&e.error?t.$root.$tools.dumpProps(e.error):"Unknown Error";t.$q.notify({message:"Can't register",caption:a,icon:"warning",color:"negative"})}}))}}},Q=R,B=(a("cc3c"),Object(f["a"])(Q,E,I,!1,null,"6e7b5b9c",null)),L=B.exports,T={name:"MyLayout",components:{Register:L,PageIndex:M,Login:o["default"]},data:function(){return{leftDrawerOpen:!1}},computed:{view:function(){return this.$root.$store.state.ds.view},auth:function(){return this.$root.$store.state.ds.auth}}},O=T,N=Object(f["a"])(O,s,n,!1,null,null,null);e["default"]=N.exports}},[[0,"runtime","vendor"]]]);